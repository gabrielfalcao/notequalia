(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{191:function(e,t,a){e.exports=a(476)},476:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(35),l=a.n(o),u=a(166),c=a(7),i=a(11),s=a(9),m=a(8),d=a(13),h=a(34),v=a(4),g=a(1),p=a.n(g),E=a(12),f=a(17),b=a(16),O=a(14),y=a(15),j=p.a.shape({id:p.a.number,content:p.a.string,scope:p.a.string,created_at:p.a.string,duration:p.a.number,user_id:p.a.number});p.a.shape({id:p.a.number,email:p.a.string,created_at:p.a.string,updated_at:p.a.string,requested_subscription_at:p.a.string,invited_at:p.a.string,access_token:j});function C(e){return!e||!e.access_token}var k=a(31),T=function(e){var t=e.markdownContent,a=e.setMarkdownContent;e.theme;return n.a.createElement(y.a,{id:"editor"},n.a.createElement(k.a.Control,{as:"textarea",rows:"string"===typeof t?t.split("\n").length:10,onChange:function(e){return a(e.target.value)},defaultValue:t}))},w=a(95),M=a.n(w),_=a(161),D=a.n(_),B=(a(409),a(162)),N=a.n(B),S=function(){function e(t){Object(c.a)(this,e),this.original=void 0,this.parsed=void 0,this._err=void 0,this.original=t.replace(/^\n*/,"");try{this.parsed=N()(this.original),this._err=null}catch(a){this._err=a,this.parsed=null}M.a.setOptions({highlight:function(e){return D.a.highlightAuto(e).value}})}return Object(i.a)(e,[{key:"toHTML",value:function(){return this.parsed?M()(this.parsed.body):M()(this.original)}},{key:"error",get:function(){return this.error}},{key:"attributes",get:function(){return this.parsed.attributes}}]),e}(),L=function(e){var t=e.markdownContent,a=(e.theme,new S(t||"> Empty note"));return n.a.createElement(y.a,{id:"preview"},n.a.createElement("main",{dangerouslySetInnerHTML:{__html:a.toHTML()}}))},G={nodes:[{id:"Myriel",group:1},{id:"Napoleon",group:1},{id:"Mlle.Baptistine",group:1},{id:"Mme.Magloire",group:1},{id:"CountessdeLo",group:1},{id:"Geborand",group:1},{id:"Champtercier",group:1},{id:"Cravatte",group:1},{id:"Count",group:1},{id:"OldMan",group:1},{id:"Labarre",group:2},{id:"Valjean",group:2},{id:"Marguerite",group:3},{id:"Mme.deR",group:2},{id:"Isabeau",group:2},{id:"Gervais",group:2},{id:"Tholomyes",group:3},{id:"Listolier",group:3},{id:"Fameuil",group:3},{id:"Blacheville",group:3},{id:"Favourite",group:3},{id:"Dahlia",group:3},{id:"Zephine",group:3},{id:"Fantine",group:3},{id:"Mme.Thenardier",group:4},{id:"Thenardier",group:4},{id:"Cosette",group:5},{id:"Javert",group:4},{id:"Fauchelevent",group:0},{id:"Bamatabois",group:2},{id:"Perpetue",group:3},{id:"Simplice",group:2},{id:"Scaufflaire",group:2},{id:"Woman1",group:2},{id:"Judge",group:2},{id:"Champmathieu",group:2},{id:"Brevet",group:2},{id:"Chenildieu",group:2},{id:"Cochepaille",group:2},{id:"Pontmercy",group:4},{id:"Boulatruelle",group:6},{id:"Eponine",group:4},{id:"Anzelma",group:4},{id:"Woman2",group:5},{id:"MotherInnocent",group:0},{id:"Gribier",group:0},{id:"Jondrette",group:7},{id:"Mme.Burgon",group:7},{id:"Gavroche",group:8},{id:"Gillenormand",group:5},{id:"Magnon",group:5},{id:"Mlle.Gillenormand",group:5},{id:"Mme.Pontmercy",group:5},{id:"Mlle.Vaubois",group:5},{id:"Lt.Gillenormand",group:5},{id:"Marius",group:8},{id:"BaronessT",group:5},{id:"Mabeuf",group:8},{id:"Enjolras",group:8},{id:"Combeferre",group:8},{id:"Prouvaire",group:8},{id:"Feuilly",group:8},{id:"Courfeyrac",group:8},{id:"Bahorel",group:8},{id:"Bossuet",group:8},{id:"Joly",group:8},{id:"Grantaire",group:8},{id:"MotherPlutarch",group:9},{id:"Gueulemer",group:4},{id:"Babet",group:4},{id:"Claquesous",group:4},{id:"Montparnasse",group:4},{id:"Toussaint",group:5},{id:"Child1",group:10},{id:"Child2",group:10},{id:"Brujon",group:4},{id:"Mme.Hucheloup",group:8}],links:[{source:"Napoleon",target:"Myriel",value:1},{source:"Mlle.Baptistine",target:"Myriel",value:8},{source:"Mme.Magloire",target:"Myriel",value:10},{source:"Mme.Magloire",target:"Mlle.Baptistine",value:6},{source:"CountessdeLo",target:"Myriel",value:1},{source:"Geborand",target:"Myriel",value:1},{source:"Champtercier",target:"Myriel",value:1},{source:"Cravatte",target:"Myriel",value:1},{source:"Count",target:"Myriel",value:2},{source:"OldMan",target:"Myriel",value:1},{source:"Valjean",target:"Labarre",value:1},{source:"Valjean",target:"Mme.Magloire",value:3},{source:"Valjean",target:"Mlle.Baptistine",value:3},{source:"Valjean",target:"Myriel",value:5},{source:"Marguerite",target:"Valjean",value:1},{source:"Mme.deR",target:"Valjean",value:1},{source:"Isabeau",target:"Valjean",value:1},{source:"Gervais",target:"Valjean",value:1},{source:"Listolier",target:"Tholomyes",value:4},{source:"Fameuil",target:"Tholomyes",value:4},{source:"Fameuil",target:"Listolier",value:4},{source:"Blacheville",target:"Tholomyes",value:4},{source:"Blacheville",target:"Listolier",value:4},{source:"Blacheville",target:"Fameuil",value:4},{source:"Favourite",target:"Tholomyes",value:3},{source:"Favourite",target:"Listolier",value:3},{source:"Favourite",target:"Fameuil",value:3},{source:"Favourite",target:"Blacheville",value:4},{source:"Dahlia",target:"Tholomyes",value:3},{source:"Dahlia",target:"Listolier",value:3},{source:"Dahlia",target:"Fameuil",value:3},{source:"Dahlia",target:"Blacheville",value:3},{source:"Dahlia",target:"Favourite",value:5},{source:"Zephine",target:"Tholomyes",value:3},{source:"Zephine",target:"Listolier",value:3},{source:"Zephine",target:"Fameuil",value:3},{source:"Zephine",target:"Blacheville",value:3},{source:"Zephine",target:"Favourite",value:4},{source:"Zephine",target:"Dahlia",value:4},{source:"Fantine",target:"Tholomyes",value:3},{source:"Fantine",target:"Listolier",value:3},{source:"Fantine",target:"Fameuil",value:3},{source:"Fantine",target:"Blacheville",value:3},{source:"Fantine",target:"Favourite",value:4},{source:"Fantine",target:"Dahlia",value:4},{source:"Fantine",target:"Zephine",value:4},{source:"Fantine",target:"Marguerite",value:2},{source:"Fantine",target:"Valjean",value:9},{source:"Mme.Thenardier",target:"Fantine",value:2},{source:"Mme.Thenardier",target:"Valjean",value:7},{source:"Thenardier",target:"Mme.Thenardier",value:13},{source:"Thenardier",target:"Fantine",value:1},{source:"Thenardier",target:"Valjean",value:12},{source:"Cosette",target:"Mme.Thenardier",value:4},{source:"Cosette",target:"Valjean",value:31},{source:"Cosette",target:"Tholomyes",value:1},{source:"Cosette",target:"Thenardier",value:1},{source:"Javert",target:"Valjean",value:17},{source:"Javert",target:"Fantine",value:5},{source:"Javert",target:"Thenardier",value:5},{source:"Javert",target:"Mme.Thenardier",value:1},{source:"Javert",target:"Cosette",value:1},{source:"Fauchelevent",target:"Valjean",value:8},{source:"Fauchelevent",target:"Javert",value:1},{source:"Bamatabois",target:"Fantine",value:1},{source:"Bamatabois",target:"Javert",value:1},{source:"Bamatabois",target:"Valjean",value:2},{source:"Perpetue",target:"Fantine",value:1},{source:"Simplice",target:"Perpetue",value:2},{source:"Simplice",target:"Valjean",value:3},{source:"Simplice",target:"Fantine",value:2},{source:"Simplice",target:"Javert",value:1},{source:"Scaufflaire",target:"Valjean",value:1},{source:"Woman1",target:"Valjean",value:2},{source:"Woman1",target:"Javert",value:1},{source:"Judge",target:"Valjean",value:3},{source:"Judge",target:"Bamatabois",value:2},{source:"Champmathieu",target:"Valjean",value:3},{source:"Champmathieu",target:"Judge",value:3},{source:"Champmathieu",target:"Bamatabois",value:2},{source:"Brevet",target:"Judge",value:2},{source:"Brevet",target:"Champmathieu",value:2},{source:"Brevet",target:"Valjean",value:2},{source:"Brevet",target:"Bamatabois",value:1},{source:"Chenildieu",target:"Judge",value:2},{source:"Chenildieu",target:"Champmathieu",value:2},{source:"Chenildieu",target:"Brevet",value:2},{source:"Chenildieu",target:"Valjean",value:2},{source:"Chenildieu",target:"Bamatabois",value:1},{source:"Cochepaille",target:"Judge",value:2},{source:"Cochepaille",target:"Champmathieu",value:2},{source:"Cochepaille",target:"Brevet",value:2},{source:"Cochepaille",target:"Chenildieu",value:2},{source:"Cochepaille",target:"Valjean",value:2},{source:"Cochepaille",target:"Bamatabois",value:1},{source:"Pontmercy",target:"Thenardier",value:1},{source:"Boulatruelle",target:"Thenardier",value:1},{source:"Eponine",target:"Mme.Thenardier",value:2},{source:"Eponine",target:"Thenardier",value:3},{source:"Anzelma",target:"Eponine",value:2},{source:"Anzelma",target:"Thenardier",value:2},{source:"Anzelma",target:"Mme.Thenardier",value:1},{source:"Woman2",target:"Valjean",value:3},{source:"Woman2",target:"Cosette",value:1},{source:"Woman2",target:"Javert",value:1},{source:"MotherInnocent",target:"Fauchelevent",value:3},{source:"MotherInnocent",target:"Valjean",value:1},{source:"Gribier",target:"Fauchelevent",value:2},{source:"Mme.Burgon",target:"Jondrette",value:1},{source:"Gavroche",target:"Mme.Burgon",value:2},{source:"Gavroche",target:"Thenardier",value:1},{source:"Gavroche",target:"Javert",value:1},{source:"Gavroche",target:"Valjean",value:1},{source:"Gillenormand",target:"Cosette",value:3},{source:"Gillenormand",target:"Valjean",value:2},{source:"Magnon",target:"Gillenormand",value:1},{source:"Magnon",target:"Mme.Thenardier",value:1},{source:"Mlle.Gillenormand",target:"Gillenormand",value:9},{source:"Mlle.Gillenormand",target:"Cosette",value:2},{source:"Mlle.Gillenormand",target:"Valjean",value:2},{source:"Mme.Pontmercy",target:"Mlle.Gillenormand",value:1},{source:"Mme.Pontmercy",target:"Pontmercy",value:1},{source:"Mlle.Vaubois",target:"Mlle.Gillenormand",value:1},{source:"Lt.Gillenormand",target:"Mlle.Gillenormand",value:2},{source:"Lt.Gillenormand",target:"Gillenormand",value:1},{source:"Lt.Gillenormand",target:"Cosette",value:1},{source:"Marius",target:"Mlle.Gillenormand",value:6},{source:"Marius",target:"Gillenormand",value:12},{source:"Marius",target:"Pontmercy",value:1},{source:"Marius",target:"Lt.Gillenormand",value:1},{source:"Marius",target:"Cosette",value:21},{source:"Marius",target:"Valjean",value:19},{source:"Marius",target:"Tholomyes",value:1},{source:"Marius",target:"Thenardier",value:2},{source:"Marius",target:"Eponine",value:5},{source:"Marius",target:"Gavroche",value:4},{source:"BaronessT",target:"Gillenormand",value:1},{source:"BaronessT",target:"Marius",value:1},{source:"Mabeuf",target:"Marius",value:1},{source:"Mabeuf",target:"Eponine",value:1},{source:"Mabeuf",target:"Gavroche",value:1},{source:"Enjolras",target:"Marius",value:7},{source:"Enjolras",target:"Gavroche",value:7},{source:"Enjolras",target:"Javert",value:6},{source:"Enjolras",target:"Mabeuf",value:1},{source:"Enjolras",target:"Valjean",value:4},{source:"Combeferre",target:"Enjolras",value:15},{source:"Combeferre",target:"Marius",value:5},{source:"Combeferre",target:"Gavroche",value:6},{source:"Combeferre",target:"Mabeuf",value:2},{source:"Prouvaire",target:"Gavroche",value:1},{source:"Prouvaire",target:"Enjolras",value:4},{source:"Prouvaire",target:"Combeferre",value:2},{source:"Feuilly",target:"Gavroche",value:2},{source:"Feuilly",target:"Enjolras",value:6},{source:"Feuilly",target:"Prouvaire",value:2},{source:"Feuilly",target:"Combeferre",value:5},{source:"Feuilly",target:"Mabeuf",value:1},{source:"Feuilly",target:"Marius",value:1},{source:"Courfeyrac",target:"Marius",value:9},{source:"Courfeyrac",target:"Enjolras",value:17},{source:"Courfeyrac",target:"Combeferre",value:13},{source:"Courfeyrac",target:"Gavroche",value:7},{source:"Courfeyrac",target:"Mabeuf",value:2},{source:"Courfeyrac",target:"Eponine",value:1},{source:"Courfeyrac",target:"Feuilly",value:6},{source:"Courfeyrac",target:"Prouvaire",value:3},{source:"Bahorel",target:"Combeferre",value:5},{source:"Bahorel",target:"Gavroche",value:5},{source:"Bahorel",target:"Courfeyrac",value:6},{source:"Bahorel",target:"Mabeuf",value:2},{source:"Bahorel",target:"Enjolras",value:4},{source:"Bahorel",target:"Feuilly",value:3},{source:"Bahorel",target:"Prouvaire",value:2},{source:"Bahorel",target:"Marius",value:1},{source:"Bossuet",target:"Marius",value:5},{source:"Bossuet",target:"Courfeyrac",value:12},{source:"Bossuet",target:"Gavroche",value:5},{source:"Bossuet",target:"Bahorel",value:4},{source:"Bossuet",target:"Enjolras",value:10},{source:"Bossuet",target:"Feuilly",value:6},{source:"Bossuet",target:"Prouvaire",value:2},{source:"Bossuet",target:"Combeferre",value:9},{source:"Bossuet",target:"Mabeuf",value:1},{source:"Bossuet",target:"Valjean",value:1},{source:"Joly",target:"Bahorel",value:5},{source:"Joly",target:"Bossuet",value:7},{source:"Joly",target:"Gavroche",value:3},{source:"Joly",target:"Courfeyrac",value:5},{source:"Joly",target:"Enjolras",value:5},{source:"Joly",target:"Feuilly",value:5},{source:"Joly",target:"Prouvaire",value:2},{source:"Joly",target:"Combeferre",value:5},{source:"Joly",target:"Mabeuf",value:1},{source:"Joly",target:"Marius",value:2},{source:"Grantaire",target:"Bossuet",value:3},{source:"Grantaire",target:"Enjolras",value:3},{source:"Grantaire",target:"Combeferre",value:1},{source:"Grantaire",target:"Courfeyrac",value:2},{source:"Grantaire",target:"Joly",value:2},{source:"Grantaire",target:"Gavroche",value:1},{source:"Grantaire",target:"Bahorel",value:1},{source:"Grantaire",target:"Feuilly",value:1},{source:"Grantaire",target:"Prouvaire",value:1},{source:"MotherPlutarch",target:"Mabeuf",value:3},{source:"Gueulemer",target:"Thenardier",value:5},{source:"Gueulemer",target:"Valjean",value:1},{source:"Gueulemer",target:"Mme.Thenardier",value:1},{source:"Gueulemer",target:"Javert",value:1},{source:"Gueulemer",target:"Gavroche",value:1},{source:"Gueulemer",target:"Eponine",value:1},{source:"Babet",target:"Thenardier",value:6},{source:"Babet",target:"Gueulemer",value:6},{source:"Babet",target:"Valjean",value:1},{source:"Babet",target:"Mme.Thenardier",value:1},{source:"Babet",target:"Javert",value:2},{source:"Babet",target:"Gavroche",value:1},{source:"Babet",target:"Eponine",value:1},{source:"Claquesous",target:"Thenardier",value:4},{source:"Claquesous",target:"Babet",value:4},{source:"Claquesous",target:"Gueulemer",value:4},{source:"Claquesous",target:"Valjean",value:1},{source:"Claquesous",target:"Mme.Thenardier",value:1},{source:"Claquesous",target:"Javert",value:1},{source:"Claquesous",target:"Eponine",value:1},{source:"Claquesous",target:"Enjolras",value:1},{source:"Montparnasse",target:"Javert",value:1},{source:"Montparnasse",target:"Babet",value:2},{source:"Montparnasse",target:"Gueulemer",value:2},{source:"Montparnasse",target:"Claquesous",value:2},{source:"Montparnasse",target:"Valjean",value:1},{source:"Montparnasse",target:"Gavroche",value:1},{source:"Montparnasse",target:"Eponine",value:1},{source:"Montparnasse",target:"Thenardier",value:1},{source:"Toussaint",target:"Cosette",value:2},{source:"Toussaint",target:"Javert",value:1},{source:"Toussaint",target:"Valjean",value:1},{source:"Child1",target:"Gavroche",value:2},{source:"Child2",target:"Gavroche",value:2},{source:"Child2",target:"Child1",value:3},{source:"Brujon",target:"Babet",value:3},{source:"Brujon",target:"Gueulemer",value:3},{source:"Brujon",target:"Thenardier",value:3},{source:"Brujon",target:"Gavroche",value:1},{source:"Brujon",target:"Eponine",value:1},{source:"Brujon",target:"Claquesous",value:1},{source:"Brujon",target:"Montparnasse",value:1},{source:"Mme.Hucheloup",target:"Bossuet",value:1},{source:"Mme.Hucheloup",target:"Joly",value:1},{source:"Mme.Hucheloup",target:"Grantaire",value:1},{source:"Mme.Hucheloup",target:"Bahorel",value:1},{source:"Mme.Hucheloup",target:"Courfeyrac",value:1},{source:"Mme.Hucheloup",target:"Gavroche",value:1},{source:"Mme.Hucheloup",target:"Enjolras",value:1}]},U=(p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={markdown:"\n---\ntitle: First Post\ndescription: demo of front-matter support\n---\n\n# Welcome to NoteQualia\n\n---\n- On the left you have an editor\n- On The right is the **preview**\n---\n\n\n## Basic Front matter support\n\n---\n\n### Headers\n\n# H1\n## H2\n### H3\n#### H4\n##### H5\n\n__bold__\n**bold**\n_italic_\n\n---\n\n### Lists\n\n1. First ordered list item\n2. Another item\n\u22c5\u22c5* Unordered sub-list.\n1. Actual numbers don't matter, just that it's a number\n\u22c5\u22c51. Ordered sub-list\n4. And another item.\n\n\u22c5\u22c5\u22c5You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we'll use three here to also align the raw Markdown).\n\n\u22c5\u22c5\u22c5To have a line break without a paragraph, you will need to use two trailing spaces.\u22c5\u22c5\n\u22c5\u22c5\u22c5Note that this line is separate, but within the same paragraph.\u22c5\u22c5\n\u22c5\u22c5\u22c5(This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)\n\n* Unordered list can use asterisks\n- Or minuses\n+ Or pluses\n\n---\n\n### Links\n\n[I'm an inline-style link](https://www.google.com)\n\n[I'm an inline-style link with title](https://www.google.com \"Google's Homepage\")\n\n[I'm a reference-style link][Arbitrary case-insensitive reference text]\n\n[I'm a relative reference to a repository file](../blob/master/LICENSE)\n\n[You can use numbers for reference-style link definitions][1]\n\nOr leave it empty and use the [link text itself].\n\nURLs and URLs in angle brackets will automatically get turned into links.\nhttp://www.example.com or <http://www.example.com> and sometimes\nexample.com (but not on Github, for example).\n\nSome text to show that the reference links can follow later.\n\n[arbitrary case-insensitive reference text]: https://www.mozilla.org\n[1]: http://slashdot.org\n[link text itself]: http://www.reddit.com\n\n\n## Tables\n\nColons can be used to align columns.\n\n| Tables        | Are           | Cool  |\n| ------------- |:-------------:| -----:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n\nThere must be at least 3 dashes separating each header cell.\nThe outer pipes (|) are optional, and you don't need to make the\nraw Markdown line up prettily. You can also use inline Markdown.\n\nMarkdown | Less | Pretty\n--- | --- | ---\n*Still* | `renders` | **nicely**\n1 | 2 | 3\n"},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.newNote,r=t.history,o=this.state.markdown;return n.a.createElement(f.a,null,n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(O.a,{variant:"success",onClick:function(){a({markdown:e.state.markdown}),r.push("/")}},"Create"))),n.a.createElement(b.a,null,n.a.createElement(T,{theme:"light",markdownContent:o,setMarkdownContent:function(t){e.setState({markdown:t})}}),n.a.createElement(L,{theme:"light",markdownContent:this.state.markdown})))}}]),a}(r.Component));U.defaultProps={};var F=Object(d.o)(Object(E.c)((function(e){return Object(v.a)(Object(v.a)({},e),{},{auth:{}})}),{newNote:function(e){return Object(v.a)({type:"NEW_NOTE"},e)}})(U)),A=a(18),x=a(10),R=a(87),I=(p.a.string,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.message;return n.a.createElement(f.a,{fluid:"md"},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Error")),n.a.createElement(x.a.Body,null,n.a.createElement(R.a,{variant:"danger"},e)),n.a.createElement(x.a.Footer,null,n.a.createElement(A.LinkContainer,{to:"/"},n.a.createElement(O.a,{variant:"secondary"},"Go back")))))))}}]),a}(r.Component)),P=Object(E.c)((function(e){return Object(v.a)({},e)}),{})(I),H=(p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a);var n=(r=t.call(this,e)).props,o=n.notes,l=n.match.params.noteID,u=o.by_id[l];return r.state={markdown:u.markdown},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.notes,r=t.match,o=t.saveNote,l=t.history;if(!r)return n.a.createElement(P,{message:"failed to parse note id from url"});var u=r.params.noteID,c=a.by_id[u],i=this.state.markdown;return n.a.createElement(f.a,null,n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(O.a,{variant:"info",onClick:function(){var e=new S(i);c.metadata=e.attributes,o(Object(v.a)(Object(v.a)({},c),{},{markdown:i})),l.push("/")}},"Save"))),n.a.createElement(b.a,null,n.a.createElement(T,{theme:"light",markdownContent:i,setMarkdownContent:function(t){e.setState({markdown:t})}}),n.a.createElement(L,{theme:"light",markdownContent:i})))}}]),a}(r.Component)),V=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{saveNote:function(e){return{type:"SAVE_NOTE",note:e}}})(H)),J=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.notes,a=e.match;if(!a)return n.a.createElement(P,{message:"failed to parse note id from url"});var r=a.params.noteID,o=t.by_id[r].markdown;return n.a.createElement(f.a,null,n.a.createElement(b.a,null,n.a.createElement(L,{theme:"light",markdownContent:o})))}}]),a}(r.Component),W=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{})(J)),q=(p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.notes,a=e.match,r=e.deleteNote;if(!a)return n.a.createElement(P,{message:"failed to parse note id from url"});var o=a.params.noteID,l=t.by_id[o];return l?n.a.createElement(f.a,{fluid:!0},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Confirm Note Deletion")),n.a.createElement(x.a.Body,null,'Are you sure you want to delete the note "',l.id,'"?'),n.a.createElement(x.a.Footer,null,n.a.createElement(O.a,{onClick:function(){r(l)},variant:"danger"},"Yes, delete it")))))):n.a.createElement(d.c,{to:"/"})}}]),a}(r.Component)),z=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{deleteNote:function(e){return{type:"DELETE_NOTE",note:e}}})(q)),Z=a(47),Y=a.n(Z),$=function e(t){var a=this;if(Object(c.a)(this,e),this.baseURL=void 0,this.urlFor=function(e){return[a.baseURL.replace(/[/]+$/,""),e.replace(/^[/]+/,"")].join("/")},!t.match(/^(https?:[/][/].*)[/]+$/))throw new Error('Invalid url: "'.concat(t,'"'));this.baseURL=t,console.log("API Router base url= ".concat(t))},K=function(){return(window.location.href+"").match(/localhost/)?"http://localhost:5000/":"https://cognod.es/"},X=function e(t){var a=this;Object(c.a)(this,e),this.api=void 0,this.defaultOptions=void 0,this.handleError=void 0,this.setToken=function(e){a.defaultOptions.headers.Authorization="Bearer ".concat(e)},this.getOptions=function(){return Object(v.a)({},a.defaultOptions)},this.api=new $(K()),this.defaultOptions={headers:{"Content-Type":"application/json"}},this.handleError=t},Q=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).authenticate=function(t,a,r){var n=e.api.urlFor("/api/v1/auth/");Y.a.post(n,{email:t,password:a},e.getOptions()).then((function(e){return console.log("response",e),e.data})).catch(e.handleError).then(r)},e}return a}(X),ee=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e,r){var n;return Object(c.a)(this,a),(n=t.call(this,e)).api=void 0,n.defaultOptions=void 0,n.handleError=void 0,n.api=new $(K()),n.defaultOptions={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},n}return a}(X),te=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).listDefinitions=function(t){var a=e.api.urlFor("/api/v1/dict/definitions");Y.a.get(a,e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(t)},e.searchDefinition=function(t,a){var r=e.api.urlFor("/api/v1/dict/definitions");Y.a.post(r,{term:t},e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(a)},e.deleteDefinition=function(t,a){var r=e.api.urlFor("/api/v1/dict/term/".concat(t));Y.a.delete(r,e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(a)},e}return a}(ee),ae=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).listUsers=function(t){var a=e.api.urlFor("/api/v1/users/");Y.a.get(a,e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(t)},e.searchUser=function(t,a){var r=e.api.urlFor("/api/v1/users/by-email/?email=".concat(t));Y.a.get(r,e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(a)},e.deleteUser=function(t,a){var r=e.api.urlFor("/api/v1/users/".concat(t,"/"));Y.a.delete(r,e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(a)},e.createUser=function(t,a,r){var n=e.api.urlFor("/api/v1/users/");Y.a.post(n,{email:t,password:a},e.getOptions()).then((function(e){return e.data})).catch(e.handleError).then(r)},e}return a}(ee),re=(p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.deleteTerm=function(e){var t=r.props.deleteTerm;r.api.deleteDefinition(e,(function(e){t(e)}))};var n=e.addError;return r.api=new te(n,e.auth.access_token.content),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.terms,a=e.match,r=this.deleteTerm;if(!a)return n.a.createElement(P,{message:"failed to parse term name from url"});var o=a.params.termID,l=t.by_term[o];return l?(console.log("DeleteTerm",t.by_term),a?n.a.createElement(f.a,{fluid:!0},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Confirm Term Deletion")),n.a.createElement(x.a.Body,null,'Are you sure you want to delete the term "',l.term,'"?'),n.a.createElement(x.a.Footer,null,n.a.createElement(O.a,{onClick:function(){r(l.term)},variant:"danger"},"Yes, delete it")))))):n.a.createElement(P,{message:JSON.stringify(t,null,2)})):n.a.createElement(d.c,{to:"/"})}}]),a}(r.Component)),ne=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{deleteTerm:function(e){return{type:"DELETE_TERM",term:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(re)),oe=a(28),le=(p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0;var n=e.addError;return r.api=new te(n,e.auth.access_token.content),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.terms,a=e.match;if(!a)return n.a.createElement(P,{message:"failed to parse term id from url"});var r=a.params.termID,o=t.by_term[r];if(!o)return n.a.createElement(d.c,{to:"/"});var l=o.content,u=l.collegiate,c=l.thesaurus;return u||c?n.a.createElement(f.a,{fluid:!0},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,o.term)),n.a.createElement(x.a.Body,null,c?n.a.createElement(oe.a,{variant:"flush"},c.map((function(e,t){var a=e.short;return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h4",null,e.functional_label),a.map((function(e,t){return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h5",null,e))})))}))):null,u?n.a.createElement(oe.a,{variant:"flush"},u.map((function(e,t){var a=e.short;return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h4",null,e.functional_label),a.map((function(e,t){return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h5",null,e))})))}))):null),n.a.createElement(x.a.Footer,null,n.a.createElement(A.LinkContainer,{to:"/"},n.a.createElement(O.a,{variant:"warning"},"Back",""))))))):null}}]),a}(r.Component)),ue=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{addTerms:function(e){return{type:"ADD_TERMS",terms:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(le)),ce=a(61),ie=a(25),se=a(44),me=a(66),de=(p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.fetchUsers=function(){var e=r.props.addUsers;r.api.listUsers(e)};var n=e.addError;return r.api=new ae(n,e.auth.access_token.content),r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.users.by_id,t=this.fetchUsers,a=Object.values(e);return n.a.createElement(n.a.Fragment,null,n.a.createElement(me.a,{responsive:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,a.map((function(e,t){return n.a.createElement("tr",{key:"".concat(t)},n.a.createElement("td",null,n.a.createElement("h3",null,e.email)),n.a.createElement("td",null,n.a.createElement(A.LinkContainer,{to:"/.admin/users/delete/".concat(e.id)},n.a.createElement(O.a,{variant:"danger"},"Delete",""))))})))),n.a.createElement(O.a,{onClick:function(){t()},variant:"success"},"Fetch",""))}}]),a}(r.Component)),he=Object(E.c)((function(e){return Object(v.a)({},e)}),{addUsers:function(e){return{type:"ADD_USERS",users:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(de),ve=(p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.performManageUsers=function(){},r.onSetNewUserEmail=function(e){r.setState({newUserEmail:e.target.value})},r.onSetNewUserPassword=function(e){r.setState({newUserPassword:e.target.value})},r.submitNewUser=function(){var e=Object(ce.a)(r).fetchUsers,t=r.props.history;r.api.createUser(r.state.newUserEmail,r.state.newUserPassword,(function(a){e(),t.push("/.admin/users/view/".concat(a.email))}))},r.fetchUsers=function(){var e=r.props.addUsers;r.api.listUsers(e)},r.state={newUserEmail:"",newUserPassword:""};var n=e.addError;return r.api=new ae(n,e.auth.access_token.content),r}return Object(i.a)(a,[{key:"render",value:function(){return C(this.props.auth)?n.a.createElement(d.c,{to:"/"}):n.a.createElement(f.a,null,n.a.createElement(b.a,null,n.a.createElement(y.a,{md:6},n.a.createElement(ie.a,{bg:"light",text:"dark",className:"mb-2"},n.a.createElement(ie.a.Header,null,"Create User"),n.a.createElement(ie.a.Body,null,n.a.createElement(k.a.Group,{controlId:"formAdminCreateUser"},n.a.createElement(k.a.Text,{className:"text-muted"},"Email"),n.a.createElement(se.a,{type:"email",placeholder:"foo@bar.com",onChange:this.onSetNewUserEmail,value:this.state.newUserEmail}),n.a.createElement(k.a.Text,{className:"text-muted"},"Password"),n.a.createElement(se.a,{type:"password",onChange:this.onSetNewUserPassword,value:this.state.newUserPassword})),n.a.createElement(O.a,{onClick:this.submitNewUser,variant:"primary"},"Create"))))),n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(ie.a,{bg:"light",text:"dark",className:"mb-2"},n.a.createElement(ie.a.Header,null,"Users"),n.a.createElement(ie.a.Body,null,n.a.createElement(he,null))))))}}]),a}(r.Component)),ge=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{addUsers:function(e){return{type:"ADD_USERS",users:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(ve)),pe=(p.a.func,p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.deleteUser=function(e){var t=Object(ce.a)(r).fetchUsers,a=r.props.history,n=r.props.deleteUser;r.api.deleteUser(e.id,(function(e){n(e),t(),a.goBack()}))},r.fetchUsers=function(){var e=r.props.addUsers;r.api.listUsers(e)};var n=e.addError;return r.api=new ae(n,e.auth.access_token.content),r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.match,r=this.deleteUser;if(!a)return n.a.createElement(P,{message:"failed to parse user name from url"});var o=a.params.id,l=t.by_id[o];return l?(console.log("DeleteUser",t.by_id),a?n.a.createElement(f.a,{fluid:!0},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Confirm User Deletion")),n.a.createElement(x.a.Body,null,"Are you sure you want to delete the user ".concat(l.email," ?")),n.a.createElement(x.a.Footer,null,n.a.createElement(O.a,{onClick:function(){r(l)},variant:"danger"},"Yes, delete it")))))):n.a.createElement(P,{message:JSON.stringify(t,null,2)})):n.a.createElement(P,{message:"no user found with id ".concat(o)})}}]),a}(r.Component)),Ee=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{addUsers:function(e){return{type:"ADD_USERS",users:e}},deleteUser:function(e){return{type:"DELETE_USER",user:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(pe)),fe=(p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.login=function(){var e=r.props,t=e.setUser,a=e.history,n=r.state,o=n.email,l=n.password;r.api.authenticate(o,l,(function(e){console.log(e),t({user:e}),a.push("/")}))},r.onSetEmail=function(e){r.setState({email:e.target.value})},r.onSetPassword=function(e){r.setState({password:e.target.value})},r.state={email:"",password:""};var n=e.addError;return r.api=new Q(n),r}return Object(i.a)(a,[{key:"render",value:function(){return C(this.props.auth)?n.a.createElement(f.a,{fluid:"md"},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Login")),n.a.createElement(x.a.Body,null,n.a.createElement(k.a.Group,{controlId:"formLogin"},n.a.createElement(k.a.Text,{className:"text-muted"},"Email"),n.a.createElement(se.a,{type:"email",onChange:this.onSetEmail,value:this.state.email}),n.a.createElement(k.a.Text,{className:"text-muted"},"Password"),n.a.createElement(se.a,{type:"password",onChange:this.onSetPassword,value:this.state.password}))),n.a.createElement(x.a.Footer,{className:"text-center"},n.a.createElement(O.a,{onClick:this.login,variant:"primary"},"Authenticate")))))):n.a.createElement(d.c,{to:"/"})}}]),a}(r.Component)),be=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{addError:function(e){return{type:"ADD_ERROR",error:e}},setUser:function(e){return{type:"NEW_AUTHENTICATION",user:e}}})(fe)),Oe=a(33),ye=(p.a.func,p.a.any,p.a.number,p.a.number,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).ref=void 0,e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Oe.i(this.ref),t=Oe.g(Oe.h),a=Oe.f().force("link",Oe.d().id((function(e){return e.id}))).force("charge",Oe.e()).force("center",Oe.c(this.props.width/2,this.props.height/2)),r=e.append("g").attr("class","links").selectAll("line").data(this.props.graph.links).enter().append("line").attr("stroke-width",(function(e){return Math.sqrt(e.value)})),n=e.append("g").attr("class","nodes").selectAll("circle").data(this.props.graph.nodes).enter().append("circle").attr("r",5).attr("fill",(function(e){return t(e.group.toString())})).call(Oe.a().on("start",(function(e){Oe.b.active||a.alphaTarget(.3).restart();e.fx=e.x,e.fy=e.y})).on("drag",(function(e){e.fx=Oe.b.x,e.fy=Oe.b.y})).on("end",(function(e){Oe.b.active||a.alphaTarget(0);e.fx=null,e.fy=null})));n.append("title").text((function(e){return e.id})),a.nodes(this.props.graph.nodes).on("tick",(function(){r.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),n.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))})),a.force("link").links(this.props.graph.links)}},{key:"render",value:function(){var e=this;return n.a.createElement(f.a,null,n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement("svg",{className:"container",ref:function(t){return e.ref=t},width:this.props.width,height:this.props.height}))))}}]),a}(r.Component));ye.defaultProps={graph:{links:[],nodes:[]}};var je=Object(E.c)((function(e){return Object(v.a)({},e)}),{setUser:function(e){return{type:"NEW_AUTHENTICATION",user:e}}})(ye),Ce=(p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).performLogout=function(){r.props.logout()},r.state={},r}return Object(i.a)(a,[{key:"render",value:function(){return C(this.props.auth)?n.a.createElement(d.c,{to:"/"}):n.a.createElement(f.a,{fluid:"md"},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Do you really wish to logout?")),n.a.createElement(x.a.Footer,null,n.a.createElement(O.a,{onClick:this.performLogout,variant:"danger"},"Logout"))))))}}]),a}(r.Component)),ke=Object(E.c)((function(e){return Object(v.a)({},e)}),{logout:function(){return{type:"LOGOUT"}}})(Ce),Te=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.notes,t=e.all;return e&&t?n.a.createElement(me.a,{responsive:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,t.map((function(e,t){return n.a.createElement("tr",{key:"".concat(t)},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.metadata.title),n.a.createElement("td",null,n.a.createElement(A.LinkContainer,{to:"/notes/edit/".concat(e.id)},n.a.createElement(O.a,{variant:"info"},"Edit"))," ",n.a.createElement(A.LinkContainer,{to:"/notes/delete/".concat(e.id)},n.a.createElement(O.a,{variant:"danger"},"Delete"))," ",n.a.createElement(A.LinkContainer,{to:"/notes/view/".concat(e.id)},n.a.createElement(O.a,{variant:"primary"},"View"))))})))):n.a.createElement(R.a,{variant:"info",className:"text-center"},"Empty")}}]),a}(r.Component),we=Object(E.c)((function(e){return Object(v.a)({},e)}),{})(Te),Me=(p.a.shape({id:p.a.string,term:p.a.string,content:p.a.string,children:p.a.array}),p.a.func,p.a.bool,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.fetchDefinitions=function(){var e=r.props.addTerms;r.api.listDefinitions(e)};var n=e.addError;return r.api=new te(n,e.auth.access_token.content),console.log(e),r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.terms,a=e.hideFunctionalLabels,r=t.by_term,o=this.fetchDefinitions,l=Object.values(r),u=!a;return n.a.createElement(n.a.Fragment,null,n.a.createElement(me.a,{responsive:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Term"),u?n.a.createElement("th",null,"Meaning"):null,n.a.createElement("th",null,"Action"))),n.a.createElement("tbody",null,l.map((function(e,t){var a=e.content;if("object"!==typeof a)return n.a.createElement("tr",{key:"".concat(t)},n.a.createElement("td",null));var r=a.collegiate,o=a.thesaurus;return r||o?n.a.createElement("tr",{key:"".concat(t)},n.a.createElement("td",null,n.a.createElement(A.LinkContainer,{to:"/terms/view/".concat(e.term)},n.a.createElement("h3",null,e.term))),o?n.a.createElement(oe.a,{variant:"flush"},o.map((function(e,t){var a=e.short;return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h4",null,e.functional_label),a.map((function(e,t){return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h5",null,e))})))}))):null,r?n.a.createElement(oe.a,{variant:"flush"},r.map((function(e,t){var a=e.short;return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h4",null,e.functional_label),a.map((function(e,t){return n.a.createElement(oe.a.Item,{key:"".concat(t)},n.a.createElement("h5",null,e))})))}))):null,n.a.createElement("td",null,n.a.createElement(A.LinkContainer,{to:"/terms/delete/".concat(e.term)},n.a.createElement(O.a,{variant:"danger"},"Delete","")),n.a.createElement(A.LinkContainer,{to:"/terms/view/".concat(e.term)},n.a.createElement(O.a,{variant:"primary"},"View","")))):null})))),n.a.createElement(O.a,{onClick:function(){o()},variant:"success"},"Fetch",""))}}]),a}(r.Component)),_e=Object(E.c)((function(e){return Object(v.a)({},e)}),{addTerms:function(e){return{type:"ADD_TERMS",terms:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(Me),De=(p.a.func,p.a.func,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).api=void 0,r.search=function(){var e=r.props,t=e.addTerms,a=e.history;r.api.searchDefinition(r.getTerm(),(function(e){t([e]),r.setState({term:""}),a.push("/terms/view/".concat(e.term))}))},r.handleChange=function(e){r.setState({term:e.target.value})},r.isTermValidForSubmission=function(){return r.getTerm().length>0},r.getTerm=function(){return r.state.term||""};var n=e.addError;return r.state={term:""},r.api=new te(n,e.auth.access_token.content),r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.handleChange;return n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Lexicon - Search and Save")),n.a.createElement(x.a.Body,null,n.a.createElement(k.a.Group,{controlId:"formBasicCriteria"},n.a.createElement(se.a,{type:"text",placeholder:"e.g.: elated",onChange:e,value:this.state.term}),n.a.createElement(k.a.Text,{className:"text-muted"},"For now only support words, no support to phrases"," ",n.a.createElement("code",null,this.state.term)))),n.a.createElement(x.a.Footer,null,n.a.createElement(O.a,{onClick:this.search,variant:"primary"},"Search","")))}}]),a}(r.Component)),Be=Object(d.o)(Object(E.c)((function(e){return Object(v.a)({},e)}),{addTerms:function(e){return{type:"ADD_TERMS",terms:e}},addError:function(e){return{type:"ADD_ERROR",error:e}}})(De)),Ne=(p.a.func,p.a.any,p.a.func,p.a.bool,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).performDashboard=function(){r.props.logout()},r.state={},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.errors,r=e.purgeData,o=e.utilities;return C(t)?n.a.createElement(d.c,{to:"/"}):n.a.createElement(f.a,null,a.current?n.a.createElement(b.a,null,n.a.createElement("pre",null,a.current)):null,n.a.createElement(b.a,null,o?n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{md:6},n.a.createElement(Be,null)),n.a.createElement(y.a,{md:6},n.a.createElement(ie.a,{bg:"light",text:"dark",className:"mb-2"},n.a.createElement(ie.a.Header,null,"Utilities"),n.a.createElement(ie.a.Body,null,n.a.createElement(O.a,{variant:"danger",onClick:function(){r()}},"Purge all data"," "))))):null,n.a.createElement(y.a,{md:12},n.a.createElement(ie.a,{bg:"light",text:"dark",className:"mb-2"},n.a.createElement(ie.a.Header,null,"Notes"),n.a.createElement(ie.a.Body,null,n.a.createElement(we,null),n.a.createElement(A.LinkContainer,{to:"/notes/new"},n.a.createElement(O.a,{variant:"success"},"Add new Note"," "))))),o?n.a.createElement(y.a,{md:12},n.a.createElement(ie.a,{bg:"light",text:"dark",className:"mb-2"},n.a.createElement(ie.a.Header,null,"Lexicon"),n.a.createElement(ie.a.Body,null,n.a.createElement(_e,{hideFunctionalLabels:!0})))):null))}}]),a}(r.Component)),Se=Object(E.c)((function(e){return Object(v.a)({},e)}),{logout:function(){return{type:"LOGOUT"}},purgeData:function(){return{type:"PURGE_DATA"}}})(Ne),Le=a(163),Ge=a(45),Ue=a(40),Fe=a(48);a(165);function Ae(e){return Object(E.c)((function(e){return Object(v.a)({},e)}),{setUser:function(e){return{type:"NEW_AUTHENTICATION",user:e}}})(e)}p.a.func;var xe=Ae(function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement(Ge.a,{bg:"light",expand:"lg",sticky:"top",className:"mb-3"},n.a.createElement(A.LinkContainer,{to:"/"},n.a.createElement(Ge.a.Brand,null,"Evergreen Notes")),n.a.createElement(Ge.a.Toggle,{"aria-controls":"cognodes-navbar-nav"}),n.a.createElement(Ge.a.Collapse,{className:"justify-content-end",id:"cognodes-navbar-nav"},n.a.createElement(Ue.a,null,n.a.createElement(Fe.a,{title:"Notebook",id:"basic-nav-dropdown"},n.a.createElement(Fe.a.Item,{href:"#action/3.1"},"Add Note"),n.a.createElement(Fe.a.Item,{href:"#action/3.2"},"Save/Export"),n.a.createElement(Fe.a.Item,{href:"#action/3.2"},"Share"),n.a.createElement(Fe.a.Divider,null),n.a.createElement(Fe.a.Item,{href:"#action/3.3"},"Settings"),n.a.createElement(Fe.a.Divider,null),n.a.createElement(Fe.a.Item,{href:"#action/3.4"},"Publish")),n.a.createElement(A.LinkContainer,{to:"/dashboard"},n.a.createElement(Ue.a.Link,null,"back to dashboard")))))}}]),a}(r.Component)),Re=a(109),Ie=a(96),Pe=a(26),He=a.n(Pe),Ve=["bold","italic","strikethrough","underline","anchor","h1","h2","h3","h4","reference","removeFormat"],Je=He.a.Extension.extend({name:"reference",tagNames:["a"],init:function(){this.button=document.createElement("button"),this.button.classList.add("medium-editor-action"),this.button.innerHTML='<i class="fa fa-sticky-note"></i>',this.button.title="Link to note",this.on(this.button,"click",this.onClick.bind(this))},addReference:function(e){var t,a=He.a.selection.getSelectionElement(this.window),r=this.window.getSelection(),n=r.toString();if(t="#notebook/1/".concat(n),r){var o,l,u,c,i=r.getRangeAt(0),s=i.commonAncestorContainer;if(3===i.endContainer.nodeType&&3!==i.startContainer.nodeType&&0===i.startOffset&&i.startContainer.firstChild===i.endContainer&&(s=i.endContainer),l=He.a.util.getClosestBlockContainer(i.startContainer),u=He.a.util.getClosestBlockContainer(i.endContainer),3!==s.nodeType&&0!==s.textContent.length&&l===u){var m=l||a,d=this.document.createDocumentFragment();this.execAction("unlink"),o=this.exportSelection(),d.appendChild(m.cloneNode(!0)),a===m?He.a.selection.select(this.document,m.firstChild,0,m.lastChild,3===m.lastChild.nodeType?m.lastChild.nodeValue.length:m.lastChild.childNodes.length):He.a.selection.select(this.document,m,0,m,m.childNodes.length);var h=this.exportSelection();0===(c=He.a.util.findOrCreateMatchingTextNodes(this.document,d,{start:o.start-h.start,end:o.end-h.start,editableElementIndex:o.editableElementIndex})).length&&((d=this.document.createDocumentFragment()).appendChild(s.cloneNode(!0)),c=[d.firstChild.firstChild,d.firstChild.lastChild]),He.a.util.createLink(this.document,c,t.trim());var v=(d.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;He.a.util.insertHTMLCommand(this.document,d.firstChild.innerHTML.replace(/^\s+/,"")),o.start-=v,o.end-=v,this.importSelection(o)}else this.document.execCommand("createLink",!1,t);He.a.util.removeTargetBlank(He.a.selection.getSelectionStart(this.document),t),e.buttonClass&&He.a.util.addClassToAnchors(He.a.selection.getSelectionStart(this.document),e.buttonClass)}},onClick:function(e){this.addReference.bind(this)({value:"#notes/"})},isAlreadyApplied:function(e){return"a"===e.tagName||"code"===e.tagName},getButton:function(){return this.button}}),We=(p.a.func,p.a.any,p.a.objectOf(p.a.element),p.a.string,p.a.string,function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).medium=void 0,r.updated=void 0,r.editor=n.a.createRef(),r.setUpdated=function(e){r.updated=e},r.change=function(e){r.props.onChange&&r.props.onChange(e,r.medium)},r.state={text:e.text},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.setUpdated,a=this.editor;this.medium=new He.a(a.current,Object(v.a)(Object(v.a)({},this.props.options),{},{toolbar:{allowMultiParagraphSelection:!1,standardizeSelectionStart:!0,buttons:Ve},extensions:{reference:new Je,placeholder:{}}})),this.medium.subscribe("editableInput",(function(r){t(!0),e.change(a.current.innerHTML)}))}},{key:"componentDidUpdate",value:function(){this.medium.restoreSelection()}},{key:"componentWillUnmount",value:function(){this.medium&&this.medium.destroy()}},{key:"componentWillReceiveProps",value:function(e){e.text===this.state.text||this.updated||this.setState({text:e.text}),this.updated&&this.setUpdated(!1)}},{key:"render",value:function(){var e=this.editor;return this.medium&&this.medium.saveSelection(),n.a.createElement("article",{ref:e,dangerouslySetInnerHTML:{__html:this.state.text}})}}]),a}(r.Component));We.defaultProps={tag:"div"};a(469),a(470),p.a.string,p.a.string,p.a.string,p.a.arrayOf(p.a.element);Object(Re.configure)({ignoreEventsCondition:function(e){return!1}});var qe=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).keyMap={SAVE_NOTE:"command+s"},r.keyBindings=void 0,r.titleRef=n.a.createRef(),r.saveNote=function(e){var t=r.state.newTitle;e.preventDefault(),r.setState({showToastSaveNote:!0,title:t})},r.onEditNote=function(e,t){r.setState({text:e})},r.onEditTitle=function(e){r.setState({newTitle:r.titleRef.current.innerText})},r.state={showToastSaveNote:!1,title:e.title,newTitle:e.title,text:e.text},r.keyBindings={SAVE_NOTE:r.saveNote},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.title;return n.a.createElement(y.a,{md:5,lg:4},n.a.createElement(Ie.a,{style:{position:"absolute",zIndex:1e7},show:this.state.showToastSaveNote,delay:2e3,onClose:function(){e.setState({showToastSaveNote:!1})},autohide:!0},n.a.createElement(Ie.a.Header,null,n.a.createElement("strong",{className:"mr-auto"},"Saving ",t),n.a.createElement("small",null,"saving note")),n.a.createElement(Ie.a.Body,{dangerouslySetInnerHTML:{__html:this.state.text}})),n.a.createElement(Re.HotKeys,{keyMap:this.keyMap,handlers:this.keyBindings,className:"mt-3 border-right",style:{height:"100%",position:"relative"}},n.a.createElement("h1",{contentEditable:!0,onKeyDown:this.onEditTitle,ref:this.titleRef,dangerouslySetInnerHTML:{__html:t}}),n.a.createElement(We,{tag:"article",text:this.state.text,onChange:this.onEditNote})))}}]),a}(r.Component),ze=Object(E.c)((function(e){return Object(v.a)({},e)}),{})(qe),Ze=(p.a.string,new Le.LoremIpsum({sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}})),Ye=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state={},r}return Object(i.a)(a,[{key:"render",value:function(){return C(this.props.auth)?n.a.createElement(d.c,{to:"/"}):n.a.createElement(f.a,{fluid:!0},n.a.createElement(xe,null),n.a.createElement(b.a,{className:"mt-3",style:{minHeight:"100vh"}},n.a.createElement(ze,{title:"Notes should be linkable",text:'<p>This is links to <a href="#notebook/1/Second-level note">Second-level note</a></p>'}),n.a.createElement(ze,{title:"Second-level note",text:'<p>This is a secondary note.</p><p>From here you can create a <a href="#notebook/1/Third-level note">Third-level note</a></p>'}),n.a.createElement(ze,{title:"Some Lorem Ipsum",text:"\n<p>".concat(Ze.generateParagraphs(1),"</p>\n<p>").concat(Ze.generateParagraphs(2),"</p>\n<p>").concat(Ze.generateParagraphs(3),"</p>\n")})))}}]),a}(r.Component),$e=Object(E.c)((function(e){return Object(v.a)({},e)}),{})(Ye),Ke=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.location;return n.a.createElement(f.a,{fluid:"md"},n.a.createElement(b.a,null,n.a.createElement(y.a,{md:12},n.a.createElement(x.a.Dialog,null,n.a.createElement(x.a.Header,null,n.a.createElement(x.a.Title,null,"Not Found")),n.a.createElement(x.a.Body,null,"No match for url"," ",n.a.createElement("code",null,e.pathname)),n.a.createElement(x.a.Footer,null,n.a.createElement(A.LinkContainer,{to:"/"},n.a.createElement(O.a,null,"Back to dashboard")))))))}}]),a}(r.Component),Xe=Object(E.c)((function(e){return Object(v.a)({},e)}),{})(Ke),Qe=(p.a.func,Ae(function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth;return n.a.createElement(Ge.a,{bg:"light",expand:"lg",sticky:"top",className:"mb-3"},n.a.createElement(A.LinkContainer,{to:"/"},n.a.createElement(Ge.a.Brand,null,"COGNOD.ES")),n.a.createElement(Ge.a.Toggle,{"aria-controls":"cognodes-navbar-nav"}),n.a.createElement(Ge.a.Collapse,{className:"justify-content-end",id:"cognodes-navbar-nav"},n.a.createElement(Ue.a,null,C(e)?n.a.createElement(A.LinkContainer,{to:"/login"},n.a.createElement(Ue.a.Link,null,"Login")):n.a.createElement(n.a.Fragment,null,n.a.createElement(A.LinkContainer,{to:"/"},n.a.createElement(Ue.a.Link,null,"Dashboard")),n.a.createElement(A.LinkContainer,{to:"/notes"},n.a.createElement(Ue.a.Link,null,"Notes")),n.a.createElement(A.LinkContainer,{to:"/mindmap"},n.a.createElement(Ue.a.Link,null,"MindMap")),n.a.createElement(A.LinkContainer,{to:"/.admin"},n.a.createElement(Ue.a.Link,null,"Admin")),n.a.createElement(A.LinkContainer,{to:"/logout"},n.a.createElement(Ue.a.Link,null,"Logout"))))))}}]),a}(r.Component))),et=Ae(function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth;function t(t){var a=t.children,r=Object(u.a)(t,["children"]);return n.a.createElement(d.d,Object.assign({},r,{render:function(t){var r=t.location;return C(e)?n.a.createElement(d.c,{to:{pathname:"/login",state:{from:r}}}):a}}))}return n.a.createElement(h.BrowserRouter,null,n.a.createElement(d.d,{path:["/dashboard","/notes/edit","/notes/delete","/login","/mindmap","/logout"]},n.a.createElement(Qe,null)),n.a.createElement(d.g,null,n.a.createElement(d.d,{path:"/mindmap"},n.a.createElement(je,{width:500,height:500,graph:G})),n.a.createElement(d.d,{path:"/.admin/users/delete/:id"},n.a.createElement(Ee,null)),n.a.createElement(d.d,{path:"/.admin"},n.a.createElement(ge,null)),n.a.createElement(d.d,{path:"/login"},n.a.createElement(be,null)),n.a.createElement(d.d,{path:"/logout"},n.a.createElement(ke,null)),n.a.createElement(d.d,{exact:!0,path:"/"},n.a.createElement(d.c,{to:"/dashboard"})),n.a.createElement(t,{exact:!0,path:"/dashboard"},n.a.createElement(Se,{utilities:!0})),n.a.createElement(d.d,{exact:!0,path:"/notes"},n.a.createElement($e,null)),n.a.createElement(t,{path:"/notes/new"},n.a.createElement(F,null)),n.a.createElement(t,{path:"/notes/edit/:noteID"},n.a.createElement(V,null)),n.a.createElement(d.d,{path:"/notes/view/:noteID"},n.a.createElement(W,null)),n.a.createElement(d.d,{path:"/notes/delete/:noteID"},n.a.createElement(z,null)),n.a.createElement(t,{path:"/terms/view/:termID"},n.a.createElement(ue,null)),n.a.createElement(t,{path:"/terms/delete/:termID"},n.a.createElement(ne,null)),n.a.createElement(d.d,{component:Xe})))}}]),a}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(471),a(472);var tt=a(43),at={},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"NEW_AUTHENTICATION":var a=t.user.user;return console.log("NEW_AUTHENTICATION",a),Object(v.a)(Object(v.a)({},e),a);case"LOGOUT":return{scope:null,profile:null,id_token:null,access_token:null,refresh_token:null};default:return Object(v.a)({},e)}},nt=a(482),ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],filtered:[],by_id:{},loaded:!0,current:null},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGOUT":case"PURGE_DATA":return{all:[],filtered:[],by_id:{},loaded:!0,current:null};case"RESET_NOTE_FILTERS":return Object(v.a)(Object(v.a)({},e),{},{filtered:e.all});case"SAVE_NOTE":return e.by_id[t.note.id]=t.note,Object(v.a)(Object(v.a)({},e),{},{all:Object.values(e.by_id)});case"NEW_NOTE":var a=new S(t.markdown),r={id:Object(nt.a)(a.attributes.title,nt.a.DNS),metadata:a.attributes,markdown:t.markdown};return e.by_id[r.id]=r,e.all.push(r),Object(v.a)({},e);case"DELETE_NOTE":var n=t.note.id;return t.note?(delete e.by_id[n],Object(v.a)(Object(v.a)({},e),{},{all:e.all.filter((function(e){return e.id!==n}))})):Object(v.a)({},e);case"LOADING_NOTES":return Object(v.a)(Object(v.a)({},e),{},{loaded:!1,current:null});case"CHANGE_NOTE":return Object(v.a)(Object(v.a)({},e),{},{current:t.note,loaded:!0});default:return Object(v.a)({},e)}},lt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{by_term:{},loaded:!0,current:null},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"LOGOUT":case"PURGE_DATA":return{by_term:{},loaded:!0,current:null};case"ADD_TERMS":var r={};return a.terms.forEach&&a.terms.forEach((function(e){r[e.term]=e})),Object(v.a)(Object(v.a)({},t),{},{by_term:Object(v.a)(Object(v.a)({},t.by_term),r),terms:e});case"DELETE_TERM":return delete t.by_term[a.term],Object(v.a)(Object(v.a)({},t),{},{terms:Object.values(t.by_term)});case"LOADING_TERMS":return Object(v.a)(Object(v.a)({},t),{},{loaded:!1,current:null});default:return Object(v.a)({},t)}},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:null,current:null},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGOUT":case"PURGE_DATA":return{all:null,current:null};case"ADD_ERROR":return Object(v.a)(Object(v.a)({},e),{},{all:[t.error],current:t.error});default:return Object(v.a)({},e)}},ct=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{by_id:{},loaded:!0,current:null},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"LOGOUT":case"PURGE_DATA":return{by_id:{},loaded:!0,current:null};case"ADD_USERS":var r={};return a.users.forEach&&a.users.forEach((function(e){r[e.id]=e})),a.extendOnly?Object(v.a)(Object(v.a)({},t),{},{by_id:Object(v.a)(Object(v.a)({},t.by_id),r),users:e}):Object(v.a)(Object(v.a)({},t),{},{by_id:Object(v.a)({},r),users:a.users});case"DELETE_USER":return delete t.by_id[a.user.email],Object(v.a)(Object(v.a)({},t),{},{users:Object.values(t.by_id)});case"LOADING_USERS":return Object(v.a)(Object(v.a)({},t),{},{loaded:!1,current:null});default:return Object(v.a)({},t)}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGOUT":case"UNLOAD_TEMPLATES":return{};case"SET_TEMPLATES":default:return Object(v.a)({},e)}},st=a(164),mt=a(27),dt=Object(mt.a)(),ht={},vt=Object(tt.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADD_ERROR":return console.log("ADD_ERROR ".concat(t.error),t),Object(v.a)(Object(v.a)({},e),{},{errors:JSON.stringify(t.error)});default:return Object(v.a)({},e)}}),Object(tt.c)({auth:rt,terms:lt,errors:ut,users:ct,notes:ot,templates:it,router:Object(st.a)(dt)})),gt=a(110),pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tt.d,Et=Object(gt.load)({namespace:"fakenom.state"});console.log("loaded storage",Et);var ft=Object(tt.e)(vt,Et,pt(Object(tt.a)(Object(gt.save)({namespace:"fakenom.state"}))));l.a.render(n.a.createElement(E.a,{store:ft},n.a.createElement(n.a.StrictMode,null,n.a.createElement(et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.a7faec81.chunk.js.map