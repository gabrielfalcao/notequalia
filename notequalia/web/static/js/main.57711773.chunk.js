(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{77:function(e,t,a){e.exports=a(95)},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=a(75),u=a(15),i=a(16),m=a(24),s=a(23),d=a(6),E=a(34),h=a(41),p=a(46),f=a(35),k=a(31),g=a(26),O=a(27),v=a(11),b=a(9),w=a(8),j=(a(74),a(13));function y(e){return Object(j.c)((function(e){return Object(w.a)({},e)}),{setUser:function(e){return{type:"NEW_AUTHENTICATION",user:e}}})(e)}var _=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth;return r.a.createElement(k.a,{fluid:"md"},r.a.createElement(g.a,null,e.profile?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{md:12},r.a.createElement("h1",null,"Hello ",e.profile.preferred_username),r.a.createElement("h2",null,"Welcome to Fake NOM"),r.a.createElement("hr",null)),r.a.createElement(b.a,{md:4},r.a.createElement(v.a,{bg:"success",text:"white",style:{width:"18rem"}},r.a.createElement(v.a.Header,null,"Access Token"),r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,null,"For usage with API"),r.a.createElement(v.a.Text,null,r.a.createElement(O.a.Control,{as:"textarea",rows:"3",readOnly:!0,value:e.access_token}))))),r.a.createElement(b.a,{md:4},r.a.createElement(v.a,{bg:"warning",text:"white",style:{width:"18rem"}},r.a.createElement(v.a.Header,null,"Refresh Token"),r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,null,"For usage with API"),r.a.createElement(v.a.Text,null,r.a.createElement(O.a.Control,{as:"textarea",rows:"3",readOnly:!0,value:e.refresh_token}))))),r.a.createElement(b.a,{md:4},r.a.createElement(v.a,{bg:"info",text:"white",style:{width:"18rem"}},r.a.createElement(v.a.Header,null,"Id Token"),r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,null,"For usage with API"),r.a.createElement(v.a.Text,null,r.a.createElement(O.a.Control,{as:"textarea",rows:"3",readOnly:!0,value:e.id_token}))))),r.a.createElement(b.a,{md:12},r.a.createElement("hr",null),r.a.createElement("h3",null,"Scopes Allowed:"),r.a.createElement("strong",null,r.a.createElement("pre",{className:"text-info"},e.scope))),r.a.createElement(b.a,{md:12},r.a.createElement("hr",null),r.a.createElement("h3",null,"ID Token claims:"),r.a.createElement(O.a,null,Object.keys(e.profile).map((function(t,a){return r.a.createElement(O.a.Group,{as:g.a,key:t,controlId:"form-control-".concat(t)},r.a.createElement(O.a.Label,{column:!0,sm:2},t),r.a.createElement(b.a,{sm:10},r.a.createElement(O.a.Control,{type:"text",readOnly:!0,value:e.profile[t]})))}))))):r.a.createElement(d.c,{to:"/login"})))}}]),a}(n.Component);_.defaultProps={auth:{scope:null,profile:null}};var T=y(_),C=a(39),L=function(e){var t=e.markdownContent,a=e.setMarkdownContent;e.theme;return r.a.createElement(b.a,{id:"editor"},r.a.createElement(O.a.Control,{as:"textarea",rows:20,onChange:function(e){return a(e.target.value)},defaultValue:t}))},N=a(72),A=a.n(N),I=function(e){var t=e.markdownContent,a=(e.theme,t||"# Dummy"),n=A()(a);return r.a.createElement(b.a,{id:"preview"},r.a.createElement("h2",null,"Preview"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}}))},x="\n# H1\n## H2\n### H3\n#### H4\n##### H5\n\n__bold__\n**bold**\n_italic_\n",H=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={markdown:x},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.note;e&&"string"===typeof e.markdown&&e.markdown!==this.state.markdown&&this.setState({markdown:e.markdown})}},{key:"render",value:function(){var e=this,t=this.props,a=t.note,n=t.saveNote,l=a.markdown||this.state.markdown;return r.a.createElement(k.a,{fluid:"md"},r.a.createElement(g.a,null,r.a.createElement(L,{theme:"light",markdownContent:l,setMarkdownContent:function(t){e.setState({markdown:t})}}),r.a.createElement(I,{theme:"light",markdownContent:this.state.markdown})),r.a.createElement(g.a,null,r.a.createElement(b.a,{md:12},r.a.createElement(C.a,{onClick:function(){n(Object(w.a)({},a,{markdown:e.state.markdown}))}},"Save"))))}}]),a}(n.Component);H.defaultProps={note:{name:"First Note",markdownContent:x,metadata:{uri_id:"https://data.cognod.es/johndoe/first-note"}}};var S=Object(j.c)((function(e){return Object(w.a)({},e,{auth:{}})}),{saveNote:function(e){return{type:"SAVE_NOTE",note:e}}})(H),P=a(20);function U(e){return!e||(!e.scope||"string"!==typeof e.scope)}var D=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).login=function(){e.props.setUser({scope:"notes:write notes:read",user:{email:"johndoe@mail.cognod.es"},access_token:"FAKETOKEN",profile:{preferred_name:"John Doe"}})},e}return Object(i.a)(a,[{key:"render",value:function(){return U(this.props.auth)?r.a.createElement(k.a,{fluid:"md"},r.a.createElement(g.a,null,r.a.createElement(b.a,{md:12},r.a.createElement(P.a.Dialog,null,r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,null,"Login")),r.a.createElement(P.a.Body,null,r.a.createElement("p",null,"This is a dummy login for now, just click login.")),r.a.createElement(P.a.Footer,null,r.a.createElement(C.a,{onClick:this.login,variant:"success"},"Proceed")))))):r.a.createElement(d.c,{to:"/"})}}]),a}(n.Component),F=Object(j.c)((function(e){return Object(w.a)({},e)}),{setUser:function(e){return{type:"NEW_AUTHENTICATION",user:e}}})(D),B=a(4),M=a.n(B),W=(M.a.func,M.a.shape({scope:M.a.string,access_token:M.a.string,id_token:M.a.string,refresh_token:M.a.string,profile:M.a.shape({preferred_username:M.a.string})}),function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).performLogout=function(){n.props.logout()},n.state={},n}return Object(i.a)(a,[{key:"render",value:function(){return U(this.props.auth)?r.a.createElement(d.c,{to:"/"}):r.a.createElement(k.a,{fluid:"md"},r.a.createElement(g.a,null,r.a.createElement(b.a,{md:12},r.a.createElement(P.a.Dialog,null,r.a.createElement(P.a.Header,null,r.a.createElement(P.a.Title,null,"Do you really wish to logout?")),r.a.createElement(P.a.Footer,null,r.a.createElement(C.a,{onClick:this.performLogout,variant:"danger"},"Logout"))))))}}]),a}(n.Component)),G=Object(j.c)((function(e){return Object(w.a)({},e)}),{logout:function(){return{type:"LOGOUT"}}})(W),V=y(function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.auth;function t(t){var a=t.children,n=Object(c.a)(t,["children"]);return r.a.createElement(d.d,Object.assign({},n,{render:function(t){var n=t.location;return U(e)?r.a.createElement(d.c,{to:{pathname:"/login",state:{from:n}}}):a}}))}return r.a.createElement(E.BrowserRouter,null,r.a.createElement(p.a,{bg:"light",expand:"lg",sticky:"top",className:"mb-3"},r.a.createElement(h.LinkContainer,{to:"/"},r.a.createElement(p.a.Brand,null,"NoteQualia")),r.a.createElement(p.a.Toggle,{"aria-controls":"notequalia-navbar-nav"}),r.a.createElement(p.a.Collapse,{className:"justify-content-end",id:"notequalia-navbar-nav"},r.a.createElement(f.a,null,U(e)?r.a.createElement(h.LinkContainer,{to:"/login"},r.a.createElement(f.a.Link,null,"Login")):r.a.createElement(r.a.Fragment,null,r.a.createElement(h.LinkContainer,{to:"/notes"},r.a.createElement(f.a.Link,null,"Notes")),r.a.createElement(f.a.Link,{href:"/api"},"Browse API"),r.a.createElement(h.LinkContainer,{to:"/logout"},r.a.createElement(f.a.Link,null,"Logout")),r.a.createElement(h.LinkContainer,{to:"/profile"},r.a.createElement(f.a.Link,null,"Profile")))))),r.a.createElement(d.g,null,r.a.createElement(d.d,{path:"/login"},r.a.createElement(F,null)),r.a.createElement(d.d,{path:"/logout"},r.a.createElement(G,null)),r.a.createElement(d.d,{exact:!0,path:"/"},r.a.createElement(d.c,{to:"/notes"})),r.a.createElement(t,{path:"/profile"},r.a.createElement(T,null)),r.a.createElement(t,{path:"/notes"},r.a.createElement(S,null))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(91);var J=a(25),R={},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"NEW_AUTHENTICATION":var a=t.user,n=a.id_token,r=a.access_token,l=a.refresh_token,o=a.scope,c=a.profile;return Object(w.a)({},e,{scope:o,profile:c,id_token:n,access_token:r,refresh_token:l});case"LOGOUT":return{scope:null,profile:null,id_token:null,access_token:null,refresh_token:null};default:return Object(w.a)({},e)}},K={},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SAVE_NOTE":var a=t.note,n=a.name,r=a.markdown;return Object(w.a)({},e,{name:n,markdown:r});default:return Object(w.a)({},e)}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGOUT":case"UNLOAD_TEMPLATES":return{};case"SET_TEMPLATES":default:return Object(w.a)({},e)}},$=a(73),z=a(12),Y=Object(z.a)(),Z={},ee=Object(J.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,Object(w.a)({},e)}),Object(J.c)({auth:q,note:X,templates:Q,router:Object($.a)(Y)})),te=a(61),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,ne=Object(te.load)({namespace:"fakenom.state"});console.log("loaded storage",ne);var re=Object(J.e)(ee,ne,ae(Object(J.a)(Object(te.save)({namespace:"fakenom.state"}))));o.a.render(r.a.createElement(j.a,{store:re},r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.57711773.chunk.js.map