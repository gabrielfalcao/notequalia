{"version":3,"sources":["domain/auth.tsx","components/Editor.tsx","markdown.tsx","components/Preview.tsx","constants.tsx","pages/NewNote.tsx","components/Error.tsx","pages/NoteEditor.tsx","pages/NoteView.tsx","pages/DeleteNote.tsx","networking.tsx","pages/DeleteTerm.tsx","pages/ViewTerm.tsx","pages/admin/UserList.tsx","pages/admin/ManageUsers.tsx","pages/admin/DeleteUser.tsx","pages/login.tsx","views/MindMapView.tsx","pages/logout.tsx","components/NoteList.tsx","components/TermList.tsx","domain/terms.tsx","components/TermSearch.tsx","pages/Dashboard.tsx","ui.tsx","components/EvergreenTopBar.tsx","components/ReactMediumEditor.tsx","components/EvergreenNote.tsx","pages/Evergreen.tsx","pages/NotFound.tsx","components/TopNav.tsx","App.tsx","serviceWorker.ts","reducers/auth.tsx","reducers/notes.tsx","reducers/terms.tsx","reducers/users.tsx","reducers/templates.tsx","history.tsx","reducers/index.tsx","store.tsx","index.tsx"],"names":["needs_login","auth","scope","PropTypes","shape","string","access_token","id_token","refresh_token","profile","preferred_username","Editor","markdownContent","setMarkdownContent","theme","Col","id","Form","Control","as","rows","split","length","onChange","e","target","value","defaultValue","Markdown","original","parsed","_err","this","replace","extractor","marked","setOptions","highlight","code","hljs","highlightAuto","body","error","attributes","Preview","markdown","dangerouslySetInnerHTML","__html","toHTML","DEFAULT_GRAPH","nodes","group","links","source","NewNote","func","props","state","newNote","history","Container","Row","md","Button","variant","onClick","push","setState","Component","defaultProps","withRouter","connect","note","type","Error","message","fluid","Modal","Dialog","Header","Title","Body","Alert","Footer","to","NoteEditor","notes","noteID","match","params","by_id","saveNote","content","metadata","NoteView","DeleteNote","deleteNote","APIRouter","baseURL","urlFor","path","join","console","log","BaseAPIClient","handleError","api","defaultOptions","getOptions","window","location","href","headers","DictionaryAPIClient","listDefinitions","handler","url","axios","get","then","response","data","catch","searchDefinition","term","post","deleteDefinition","delete","AdminAPIClient","listUsers","searchUser","email","deleteUser","createUser","password","DeleteTerm","deleteTerm","addError","terms","termID","by_term","JSON","stringify","ViewTerm","meta","collegiate","thesaurus","ListGroup","map","definition","index","short_definitions","short","Item","key","functional_label","description","addTerms","UserList","fetchUsers","addUsers","users","all","Object","values","Fragment","Table","responsive","bordered","hover","user","ManageUsers","performManageUsers","onSetNewUserEmail","event","newUserEmail","onSetNewUserPassword","newUserPassword","submitNewUser","Card","bg","text","className","Group","controlId","Text","FormControl","placeholder","DeleteUser","goBack","Login","login","setUser","MindMapView","any","number","ref","context","d3","color","simulation","force","d","width","height","link","append","attr","selectAll","graph","enter","Math","sqrt","node","toString","call","on","active","alphaTarget","restart","fx","x","fy","y","Logout","performLogout","logout","NoteList","title","TermList","children","array","bool","fetchDefinitions","hideFunctionalLabels","showFunctionalLabels","TermSearch","search","getTerm","handleChange","isTermValidForSubmission","Dashboard","performDashboard","purgeData","utilities","ComponentWithStore","Navbar","expand","sticky","Brand","Toggle","aria-controls","Collapse","Nav","NavDropdown","Divider","Link","DEFAULT_BUTTONS","ReferenceButton","MediumEditor","Extension","extend","name","tagNames","init","button","document","createElement","classList","add","innerHTML","bind","addReference","opts","targetUrl","currentEditor","selection","getSelectionElement","currentSelection","getSelection","selectedText","exportedSelection","startContainerParentElement","endContainerParentElement","textNodes","currRange","getRangeAt","commonAncestorContainer","endContainer","nodeType","startContainer","startOffset","firstChild","util","getClosestBlockContainer","textContent","parentElement","fragment","createDocumentFragment","execAction","exportSelection","appendChild","cloneNode","select","lastChild","nodeValue","childNodes","modifiedExportedSelection","findOrCreateMatchingTextNodes","start","end","editableElementIndex","createLink","trim","leadingWhitespacesCount","insertHTMLCommand","importSelection","execCommand","removeTargetBlank","getSelectionStart","buttonClass","addClassToAnchors","isAlreadyApplied","tagName","getButton","ReactMediumEditor","objectOf","element","medium","updated","editor","React","createRef","setUpdated","change","current","options","toolbar","allowMultiParagraphSelection","standardizeSelectionStart","buttons","extensions","reference","subscribe","restoreSelection","destroy","nextProps","saveSelection","tag","arrayOf","configure","ignoreEventsCondition","EvergreenNote","keyMap","SAVE_NOTE","keyBindings","titleRef","newTitle","preventDefault","showToastSaveNote","onEditNote","onEditTitle","innerText","lg","Toast","style","position","zIndex","show","delay","onClose","autohide","handlers","contentEditable","onKeyDown","lorem","LoremIpsum","sentencesPerParagraph","max","min","wordsPerSentence","Evergreen","minHeight","generateParagraphs","NotFound","pathname","AuthenticatedRoute","rest","render","from","exact","component","Boolean","hostname","DEFAULT_STATE","action","filtered","loaded","uuidv5","DNS","id_to_delete","filter","item","new_by_term","forEach","new_by_id","extendOnly","templates","createBrowserHistory","compose","combineReducers","router","connectRouter","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","load","namespace","createStore","rootReducer","applyMiddleware","save","ReactDOM","store","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4752745e.chunk.js","sourcesContent":["import PropTypes, { InferProps } from \"prop-types\";\n\nexport function needs_login(auth: any) {\n    if (!auth) {\n        return true;\n    }\n    if (!auth.scope) {\n        return true;\n    }\n    return typeof auth.scope !== \"string\";\n}\n\nexport class Scope {\n    auth: AuthProps;\n    constructor(auth: AuthProps) {\n        this.auth = auth;\n    }\n    public matches(regex: RegExp): boolean {\n        return this.auth.scope.match(regex) !== null;\n    }\n    public canRead(): boolean {\n        return this.matches(/notes:read/);\n    }\n    public canWrite(): boolean {\n        return this.matches(/notes:write/);\n    }\n}\nexport const AuthPropTypes = PropTypes.shape({\n    scope: PropTypes.string,\n    access_token: PropTypes.string,\n    id_token: PropTypes.string,\n    refresh_token: PropTypes.string,\n    profile: PropTypes.shape({\n        preferred_username: PropTypes.string\n    })\n});\n\nexport type AuthProps = InferProps<typeof AuthPropTypes> | any;\n","import React, { ChangeEvent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\n\ninterface Props {\n    markdownContent: string;\n    setMarkdownContent: (value: string) => void;\n    theme: string;\n}\n\nconst Editor: React.FC<Props> = ({\n    markdownContent,\n    setMarkdownContent,\n    theme\n}) => {\n    return (\n        <Col id=\"editor\">\n            <Form.Control\n                as=\"textarea\"\n                rows={\n                    typeof markdownContent === \"string\"\n                        ? markdownContent.split(\"\\n\").length\n                        : 10\n                }\n                onChange={(e: ChangeEvent<HTMLTextAreaElement>) =>\n                    setMarkdownContent(e.target.value)\n                }\n                defaultValue={markdownContent}\n            />\n        </Col>\n    );\n};\n\nEditor.propTypes = {\n    markdownContent: PropTypes.string.isRequired,\n    setMarkdownContent: PropTypes.func.isRequired\n};\n\nexport default Editor;\n","import marked from \"marked\";\nimport hljs from \"highlight.js\";\nimport \"highlight.js/styles/github.css\";\n\nimport extractor, { FrontMatterResult } from \"front-matter\";\n\nexport type FrontMatterAttributes =\n    | {\n        id: string;\n        parent_id: string | null;\n        title: string;\n        created_at: string;\n    }\n    | any\n    | null;\n\nexport class Markdown {\n    public original: string;\n    private parsed: FrontMatterResult<FrontMatterAttributes>;\n    private _err: Error | null;\n\n    constructor(markdownContent: string) {\n        this.original = markdownContent.replace(/^\\n*/, \"\");\n        try {\n            this.parsed = extractor(this.original);\n            this._err = null;\n        } catch (e) {\n            this._err = e;\n            this.parsed = null;\n        }\n        marked.setOptions({\n            highlight: function(code) {\n                return hljs.highlightAuto(code).value;\n            }\n        });\n    }\n    public toHTML(): string {\n        if (this.parsed) {\n            return marked(this.parsed.body);\n        }\n        return marked(this.original);\n    }\n\n    public get error(): string | null {\n        return this.error;\n    }\n    public get attributes(): FrontMatterAttributes {\n        return this.parsed.attributes;\n    }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Col from \"react-bootstrap/Col\";\n\nimport { Markdown } from \"../markdown\";\n\ninterface Props {\n    markdownContent: string;\n    theme: string;\n}\n\nconst Preview: React.FC<Props> = ({ markdownContent, theme }) => {\n    const content = markdownContent || \"> Empty note\";\n    const markdown = new Markdown(content);\n\n    return (\n        <Col id=\"preview\">\n            <main\n                dangerouslySetInnerHTML={{ __html: markdown.toHTML() }}\n            ></main>\n        </Col>\n    );\n};\n\nPreview.propTypes = {\n    markdownContent: PropTypes.string.isRequired\n};\n\nexport default Preview;\n","export const DEFAULT_MARKDOWN = `\n---\ntitle: First Post\ndescription: demo of front-matter support\n---\n\n# Welcome to NoteQualia\n\n---\n- On the left you have an editor\n- On The right is the **preview**\n---\n\n\n## Basic Front matter support\n\n---\n\n### Headers\n\n# H1\n## H2\n### H3\n#### H4\n##### H5\n\n__bold__\n**bold**\n_italic_\n\n---\n\n### Lists\n\n1. First ordered list item\n2. Another item\n⋅⋅* Unordered sub-list.\n1. Actual numbers don't matter, just that it's a number\n⋅⋅1. Ordered sub-list\n4. And another item.\n\n⋅⋅⋅You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we'll use three here to also align the raw Markdown).\n\n⋅⋅⋅To have a line break without a paragraph, you will need to use two trailing spaces.⋅⋅\n⋅⋅⋅Note that this line is separate, but within the same paragraph.⋅⋅\n⋅⋅⋅(This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)\n\n* Unordered list can use asterisks\n- Or minuses\n+ Or pluses\n\n---\n\n### Links\n\n[I'm an inline-style link](https://www.google.com)\n\n[I'm an inline-style link with title](https://www.google.com \"Google's Homepage\")\n\n[I'm a reference-style link][Arbitrary case-insensitive reference text]\n\n[I'm a relative reference to a repository file](../blob/master/LICENSE)\n\n[You can use numbers for reference-style link definitions][1]\n\nOr leave it empty and use the [link text itself].\n\nURLs and URLs in angle brackets will automatically get turned into links.\nhttp://www.example.com or <http://www.example.com> and sometimes\nexample.com (but not on Github, for example).\n\nSome text to show that the reference links can follow later.\n\n[arbitrary case-insensitive reference text]: https://www.mozilla.org\n[1]: http://slashdot.org\n[link text itself]: http://www.reddit.com\n\n\n## Tables\n\nColons can be used to align columns.\n\n| Tables        | Are           | Cool  |\n| ------------- |:-------------:| -----:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n\nThere must be at least 3 dashes separating each header cell.\nThe outer pipes (|) are optional, and you don't need to make the\nraw Markdown line up prettily. You can also use inline Markdown.\n\nMarkdown | Less | Pretty\n--- | --- | ---\n*Still* | \\`renders\\` | **nicely**\n1 | 2 | 3\n`;\n\nexport const DEFAULT_GRAPH = {\n    nodes: [\n        { id: \"Myriel\", group: 1 },\n        { id: \"Napoleon\", group: 1 },\n        { id: \"Mlle.Baptistine\", group: 1 },\n        { id: \"Mme.Magloire\", group: 1 },\n        { id: \"CountessdeLo\", group: 1 },\n        { id: \"Geborand\", group: 1 },\n        { id: \"Champtercier\", group: 1 },\n        { id: \"Cravatte\", group: 1 },\n        { id: \"Count\", group: 1 },\n        { id: \"OldMan\", group: 1 },\n        { id: \"Labarre\", group: 2 },\n        { id: \"Valjean\", group: 2 },\n        { id: \"Marguerite\", group: 3 },\n        { id: \"Mme.deR\", group: 2 },\n        { id: \"Isabeau\", group: 2 },\n        { id: \"Gervais\", group: 2 },\n        { id: \"Tholomyes\", group: 3 },\n        { id: \"Listolier\", group: 3 },\n        { id: \"Fameuil\", group: 3 },\n        { id: \"Blacheville\", group: 3 },\n        { id: \"Favourite\", group: 3 },\n        { id: \"Dahlia\", group: 3 },\n        { id: \"Zephine\", group: 3 },\n        { id: \"Fantine\", group: 3 },\n        { id: \"Mme.Thenardier\", group: 4 },\n        { id: \"Thenardier\", group: 4 },\n        { id: \"Cosette\", group: 5 },\n        { id: \"Javert\", group: 4 },\n        { id: \"Fauchelevent\", group: 0 },\n        { id: \"Bamatabois\", group: 2 },\n        { id: \"Perpetue\", group: 3 },\n        { id: \"Simplice\", group: 2 },\n        { id: \"Scaufflaire\", group: 2 },\n        { id: \"Woman1\", group: 2 },\n        { id: \"Judge\", group: 2 },\n        { id: \"Champmathieu\", group: 2 },\n        { id: \"Brevet\", group: 2 },\n        { id: \"Chenildieu\", group: 2 },\n        { id: \"Cochepaille\", group: 2 },\n        { id: \"Pontmercy\", group: 4 },\n        { id: \"Boulatruelle\", group: 6 },\n        { id: \"Eponine\", group: 4 },\n        { id: \"Anzelma\", group: 4 },\n        { id: \"Woman2\", group: 5 },\n        { id: \"MotherInnocent\", group: 0 },\n        { id: \"Gribier\", group: 0 },\n        { id: \"Jondrette\", group: 7 },\n        { id: \"Mme.Burgon\", group: 7 },\n        { id: \"Gavroche\", group: 8 },\n        { id: \"Gillenormand\", group: 5 },\n        { id: \"Magnon\", group: 5 },\n        { id: \"Mlle.Gillenormand\", group: 5 },\n        { id: \"Mme.Pontmercy\", group: 5 },\n        { id: \"Mlle.Vaubois\", group: 5 },\n        { id: \"Lt.Gillenormand\", group: 5 },\n        { id: \"Marius\", group: 8 },\n        { id: \"BaronessT\", group: 5 },\n        { id: \"Mabeuf\", group: 8 },\n        { id: \"Enjolras\", group: 8 },\n        { id: \"Combeferre\", group: 8 },\n        { id: \"Prouvaire\", group: 8 },\n        { id: \"Feuilly\", group: 8 },\n        { id: \"Courfeyrac\", group: 8 },\n        { id: \"Bahorel\", group: 8 },\n        { id: \"Bossuet\", group: 8 },\n        { id: \"Joly\", group: 8 },\n        { id: \"Grantaire\", group: 8 },\n        { id: \"MotherPlutarch\", group: 9 },\n        { id: \"Gueulemer\", group: 4 },\n        { id: \"Babet\", group: 4 },\n        { id: \"Claquesous\", group: 4 },\n        { id: \"Montparnasse\", group: 4 },\n        { id: \"Toussaint\", group: 5 },\n        { id: \"Child1\", group: 10 },\n        { id: \"Child2\", group: 10 },\n        { id: \"Brujon\", group: 4 },\n        { id: \"Mme.Hucheloup\", group: 8 }\n    ],\n    links: [\n        { source: \"Napoleon\", target: \"Myriel\", value: 1 },\n        { source: \"Mlle.Baptistine\", target: \"Myriel\", value: 8 },\n        { source: \"Mme.Magloire\", target: \"Myriel\", value: 10 },\n        { source: \"Mme.Magloire\", target: \"Mlle.Baptistine\", value: 6 },\n        { source: \"CountessdeLo\", target: \"Myriel\", value: 1 },\n        { source: \"Geborand\", target: \"Myriel\", value: 1 },\n        { source: \"Champtercier\", target: \"Myriel\", value: 1 },\n        { source: \"Cravatte\", target: \"Myriel\", value: 1 },\n        { source: \"Count\", target: \"Myriel\", value: 2 },\n        { source: \"OldMan\", target: \"Myriel\", value: 1 },\n        { source: \"Valjean\", target: \"Labarre\", value: 1 },\n        { source: \"Valjean\", target: \"Mme.Magloire\", value: 3 },\n        { source: \"Valjean\", target: \"Mlle.Baptistine\", value: 3 },\n        { source: \"Valjean\", target: \"Myriel\", value: 5 },\n        { source: \"Marguerite\", target: \"Valjean\", value: 1 },\n        { source: \"Mme.deR\", target: \"Valjean\", value: 1 },\n        { source: \"Isabeau\", target: \"Valjean\", value: 1 },\n        { source: \"Gervais\", target: \"Valjean\", value: 1 },\n        { source: \"Listolier\", target: \"Tholomyes\", value: 4 },\n        { source: \"Fameuil\", target: \"Tholomyes\", value: 4 },\n        { source: \"Fameuil\", target: \"Listolier\", value: 4 },\n        { source: \"Blacheville\", target: \"Tholomyes\", value: 4 },\n        { source: \"Blacheville\", target: \"Listolier\", value: 4 },\n        { source: \"Blacheville\", target: \"Fameuil\", value: 4 },\n        { source: \"Favourite\", target: \"Tholomyes\", value: 3 },\n        { source: \"Favourite\", target: \"Listolier\", value: 3 },\n        { source: \"Favourite\", target: \"Fameuil\", value: 3 },\n        { source: \"Favourite\", target: \"Blacheville\", value: 4 },\n        { source: \"Dahlia\", target: \"Tholomyes\", value: 3 },\n        { source: \"Dahlia\", target: \"Listolier\", value: 3 },\n        { source: \"Dahlia\", target: \"Fameuil\", value: 3 },\n        { source: \"Dahlia\", target: \"Blacheville\", value: 3 },\n        { source: \"Dahlia\", target: \"Favourite\", value: 5 },\n        { source: \"Zephine\", target: \"Tholomyes\", value: 3 },\n        { source: \"Zephine\", target: \"Listolier\", value: 3 },\n        { source: \"Zephine\", target: \"Fameuil\", value: 3 },\n        { source: \"Zephine\", target: \"Blacheville\", value: 3 },\n        { source: \"Zephine\", target: \"Favourite\", value: 4 },\n        { source: \"Zephine\", target: \"Dahlia\", value: 4 },\n        { source: \"Fantine\", target: \"Tholomyes\", value: 3 },\n        { source: \"Fantine\", target: \"Listolier\", value: 3 },\n        { source: \"Fantine\", target: \"Fameuil\", value: 3 },\n        { source: \"Fantine\", target: \"Blacheville\", value: 3 },\n        { source: \"Fantine\", target: \"Favourite\", value: 4 },\n        { source: \"Fantine\", target: \"Dahlia\", value: 4 },\n        { source: \"Fantine\", target: \"Zephine\", value: 4 },\n        { source: \"Fantine\", target: \"Marguerite\", value: 2 },\n        { source: \"Fantine\", target: \"Valjean\", value: 9 },\n        { source: \"Mme.Thenardier\", target: \"Fantine\", value: 2 },\n        { source: \"Mme.Thenardier\", target: \"Valjean\", value: 7 },\n        { source: \"Thenardier\", target: \"Mme.Thenardier\", value: 13 },\n        { source: \"Thenardier\", target: \"Fantine\", value: 1 },\n        { source: \"Thenardier\", target: \"Valjean\", value: 12 },\n        { source: \"Cosette\", target: \"Mme.Thenardier\", value: 4 },\n        { source: \"Cosette\", target: \"Valjean\", value: 31 },\n        { source: \"Cosette\", target: \"Tholomyes\", value: 1 },\n        { source: \"Cosette\", target: \"Thenardier\", value: 1 },\n        { source: \"Javert\", target: \"Valjean\", value: 17 },\n        { source: \"Javert\", target: \"Fantine\", value: 5 },\n        { source: \"Javert\", target: \"Thenardier\", value: 5 },\n        { source: \"Javert\", target: \"Mme.Thenardier\", value: 1 },\n        { source: \"Javert\", target: \"Cosette\", value: 1 },\n        { source: \"Fauchelevent\", target: \"Valjean\", value: 8 },\n        { source: \"Fauchelevent\", target: \"Javert\", value: 1 },\n        { source: \"Bamatabois\", target: \"Fantine\", value: 1 },\n        { source: \"Bamatabois\", target: \"Javert\", value: 1 },\n        { source: \"Bamatabois\", target: \"Valjean\", value: 2 },\n        { source: \"Perpetue\", target: \"Fantine\", value: 1 },\n        { source: \"Simplice\", target: \"Perpetue\", value: 2 },\n        { source: \"Simplice\", target: \"Valjean\", value: 3 },\n        { source: \"Simplice\", target: \"Fantine\", value: 2 },\n        { source: \"Simplice\", target: \"Javert\", value: 1 },\n        { source: \"Scaufflaire\", target: \"Valjean\", value: 1 },\n        { source: \"Woman1\", target: \"Valjean\", value: 2 },\n        { source: \"Woman1\", target: \"Javert\", value: 1 },\n        { source: \"Judge\", target: \"Valjean\", value: 3 },\n        { source: \"Judge\", target: \"Bamatabois\", value: 2 },\n        { source: \"Champmathieu\", target: \"Valjean\", value: 3 },\n        { source: \"Champmathieu\", target: \"Judge\", value: 3 },\n        { source: \"Champmathieu\", target: \"Bamatabois\", value: 2 },\n        { source: \"Brevet\", target: \"Judge\", value: 2 },\n        { source: \"Brevet\", target: \"Champmathieu\", value: 2 },\n        { source: \"Brevet\", target: \"Valjean\", value: 2 },\n        { source: \"Brevet\", target: \"Bamatabois\", value: 1 },\n        { source: \"Chenildieu\", target: \"Judge\", value: 2 },\n        { source: \"Chenildieu\", target: \"Champmathieu\", value: 2 },\n        { source: \"Chenildieu\", target: \"Brevet\", value: 2 },\n        { source: \"Chenildieu\", target: \"Valjean\", value: 2 },\n        { source: \"Chenildieu\", target: \"Bamatabois\", value: 1 },\n        { source: \"Cochepaille\", target: \"Judge\", value: 2 },\n        { source: \"Cochepaille\", target: \"Champmathieu\", value: 2 },\n        { source: \"Cochepaille\", target: \"Brevet\", value: 2 },\n        { source: \"Cochepaille\", target: \"Chenildieu\", value: 2 },\n        { source: \"Cochepaille\", target: \"Valjean\", value: 2 },\n        { source: \"Cochepaille\", target: \"Bamatabois\", value: 1 },\n        { source: \"Pontmercy\", target: \"Thenardier\", value: 1 },\n        { source: \"Boulatruelle\", target: \"Thenardier\", value: 1 },\n        { source: \"Eponine\", target: \"Mme.Thenardier\", value: 2 },\n        { source: \"Eponine\", target: \"Thenardier\", value: 3 },\n        { source: \"Anzelma\", target: \"Eponine\", value: 2 },\n        { source: \"Anzelma\", target: \"Thenardier\", value: 2 },\n        { source: \"Anzelma\", target: \"Mme.Thenardier\", value: 1 },\n        { source: \"Woman2\", target: \"Valjean\", value: 3 },\n        { source: \"Woman2\", target: \"Cosette\", value: 1 },\n        { source: \"Woman2\", target: \"Javert\", value: 1 },\n        { source: \"MotherInnocent\", target: \"Fauchelevent\", value: 3 },\n        { source: \"MotherInnocent\", target: \"Valjean\", value: 1 },\n        { source: \"Gribier\", target: \"Fauchelevent\", value: 2 },\n        { source: \"Mme.Burgon\", target: \"Jondrette\", value: 1 },\n        { source: \"Gavroche\", target: \"Mme.Burgon\", value: 2 },\n        { source: \"Gavroche\", target: \"Thenardier\", value: 1 },\n        { source: \"Gavroche\", target: \"Javert\", value: 1 },\n        { source: \"Gavroche\", target: \"Valjean\", value: 1 },\n        { source: \"Gillenormand\", target: \"Cosette\", value: 3 },\n        { source: \"Gillenormand\", target: \"Valjean\", value: 2 },\n        { source: \"Magnon\", target: \"Gillenormand\", value: 1 },\n        { source: \"Magnon\", target: \"Mme.Thenardier\", value: 1 },\n        { source: \"Mlle.Gillenormand\", target: \"Gillenormand\", value: 9 },\n        { source: \"Mlle.Gillenormand\", target: \"Cosette\", value: 2 },\n        { source: \"Mlle.Gillenormand\", target: \"Valjean\", value: 2 },\n        { source: \"Mme.Pontmercy\", target: \"Mlle.Gillenormand\", value: 1 },\n        { source: \"Mme.Pontmercy\", target: \"Pontmercy\", value: 1 },\n        { source: \"Mlle.Vaubois\", target: \"Mlle.Gillenormand\", value: 1 },\n        { source: \"Lt.Gillenormand\", target: \"Mlle.Gillenormand\", value: 2 },\n        { source: \"Lt.Gillenormand\", target: \"Gillenormand\", value: 1 },\n        { source: \"Lt.Gillenormand\", target: \"Cosette\", value: 1 },\n        { source: \"Marius\", target: \"Mlle.Gillenormand\", value: 6 },\n        { source: \"Marius\", target: \"Gillenormand\", value: 12 },\n        { source: \"Marius\", target: \"Pontmercy\", value: 1 },\n        { source: \"Marius\", target: \"Lt.Gillenormand\", value: 1 },\n        { source: \"Marius\", target: \"Cosette\", value: 21 },\n        { source: \"Marius\", target: \"Valjean\", value: 19 },\n        { source: \"Marius\", target: \"Tholomyes\", value: 1 },\n        { source: \"Marius\", target: \"Thenardier\", value: 2 },\n        { source: \"Marius\", target: \"Eponine\", value: 5 },\n        { source: \"Marius\", target: \"Gavroche\", value: 4 },\n        { source: \"BaronessT\", target: \"Gillenormand\", value: 1 },\n        { source: \"BaronessT\", target: \"Marius\", value: 1 },\n        { source: \"Mabeuf\", target: \"Marius\", value: 1 },\n        { source: \"Mabeuf\", target: \"Eponine\", value: 1 },\n        { source: \"Mabeuf\", target: \"Gavroche\", value: 1 },\n        { source: \"Enjolras\", target: \"Marius\", value: 7 },\n        { source: \"Enjolras\", target: \"Gavroche\", value: 7 },\n        { source: \"Enjolras\", target: \"Javert\", value: 6 },\n        { source: \"Enjolras\", target: \"Mabeuf\", value: 1 },\n        { source: \"Enjolras\", target: \"Valjean\", value: 4 },\n        { source: \"Combeferre\", target: \"Enjolras\", value: 15 },\n        { source: \"Combeferre\", target: \"Marius\", value: 5 },\n        { source: \"Combeferre\", target: \"Gavroche\", value: 6 },\n        { source: \"Combeferre\", target: \"Mabeuf\", value: 2 },\n        { source: \"Prouvaire\", target: \"Gavroche\", value: 1 },\n        { source: \"Prouvaire\", target: \"Enjolras\", value: 4 },\n        { source: \"Prouvaire\", target: \"Combeferre\", value: 2 },\n        { source: \"Feuilly\", target: \"Gavroche\", value: 2 },\n        { source: \"Feuilly\", target: \"Enjolras\", value: 6 },\n        { source: \"Feuilly\", target: \"Prouvaire\", value: 2 },\n        { source: \"Feuilly\", target: \"Combeferre\", value: 5 },\n        { source: \"Feuilly\", target: \"Mabeuf\", value: 1 },\n        { source: \"Feuilly\", target: \"Marius\", value: 1 },\n        { source: \"Courfeyrac\", target: \"Marius\", value: 9 },\n        { source: \"Courfeyrac\", target: \"Enjolras\", value: 17 },\n        { source: \"Courfeyrac\", target: \"Combeferre\", value: 13 },\n        { source: \"Courfeyrac\", target: \"Gavroche\", value: 7 },\n        { source: \"Courfeyrac\", target: \"Mabeuf\", value: 2 },\n        { source: \"Courfeyrac\", target: \"Eponine\", value: 1 },\n        { source: \"Courfeyrac\", target: \"Feuilly\", value: 6 },\n        { source: \"Courfeyrac\", target: \"Prouvaire\", value: 3 },\n        { source: \"Bahorel\", target: \"Combeferre\", value: 5 },\n        { source: \"Bahorel\", target: \"Gavroche\", value: 5 },\n        { source: \"Bahorel\", target: \"Courfeyrac\", value: 6 },\n        { source: \"Bahorel\", target: \"Mabeuf\", value: 2 },\n        { source: \"Bahorel\", target: \"Enjolras\", value: 4 },\n        { source: \"Bahorel\", target: \"Feuilly\", value: 3 },\n        { source: \"Bahorel\", target: \"Prouvaire\", value: 2 },\n        { source: \"Bahorel\", target: \"Marius\", value: 1 },\n        { source: \"Bossuet\", target: \"Marius\", value: 5 },\n        { source: \"Bossuet\", target: \"Courfeyrac\", value: 12 },\n        { source: \"Bossuet\", target: \"Gavroche\", value: 5 },\n        { source: \"Bossuet\", target: \"Bahorel\", value: 4 },\n        { source: \"Bossuet\", target: \"Enjolras\", value: 10 },\n        { source: \"Bossuet\", target: \"Feuilly\", value: 6 },\n        { source: \"Bossuet\", target: \"Prouvaire\", value: 2 },\n        { source: \"Bossuet\", target: \"Combeferre\", value: 9 },\n        { source: \"Bossuet\", target: \"Mabeuf\", value: 1 },\n        { source: \"Bossuet\", target: \"Valjean\", value: 1 },\n        { source: \"Joly\", target: \"Bahorel\", value: 5 },\n        { source: \"Joly\", target: \"Bossuet\", value: 7 },\n        { source: \"Joly\", target: \"Gavroche\", value: 3 },\n        { source: \"Joly\", target: \"Courfeyrac\", value: 5 },\n        { source: \"Joly\", target: \"Enjolras\", value: 5 },\n        { source: \"Joly\", target: \"Feuilly\", value: 5 },\n        { source: \"Joly\", target: \"Prouvaire\", value: 2 },\n        { source: \"Joly\", target: \"Combeferre\", value: 5 },\n        { source: \"Joly\", target: \"Mabeuf\", value: 1 },\n        { source: \"Joly\", target: \"Marius\", value: 2 },\n        { source: \"Grantaire\", target: \"Bossuet\", value: 3 },\n        { source: \"Grantaire\", target: \"Enjolras\", value: 3 },\n        { source: \"Grantaire\", target: \"Combeferre\", value: 1 },\n        { source: \"Grantaire\", target: \"Courfeyrac\", value: 2 },\n        { source: \"Grantaire\", target: \"Joly\", value: 2 },\n        { source: \"Grantaire\", target: \"Gavroche\", value: 1 },\n        { source: \"Grantaire\", target: \"Bahorel\", value: 1 },\n        { source: \"Grantaire\", target: \"Feuilly\", value: 1 },\n        { source: \"Grantaire\", target: \"Prouvaire\", value: 1 },\n        { source: \"MotherPlutarch\", target: \"Mabeuf\", value: 3 },\n        { source: \"Gueulemer\", target: \"Thenardier\", value: 5 },\n        { source: \"Gueulemer\", target: \"Valjean\", value: 1 },\n        { source: \"Gueulemer\", target: \"Mme.Thenardier\", value: 1 },\n        { source: \"Gueulemer\", target: \"Javert\", value: 1 },\n        { source: \"Gueulemer\", target: \"Gavroche\", value: 1 },\n        { source: \"Gueulemer\", target: \"Eponine\", value: 1 },\n        { source: \"Babet\", target: \"Thenardier\", value: 6 },\n        { source: \"Babet\", target: \"Gueulemer\", value: 6 },\n        { source: \"Babet\", target: \"Valjean\", value: 1 },\n        { source: \"Babet\", target: \"Mme.Thenardier\", value: 1 },\n        { source: \"Babet\", target: \"Javert\", value: 2 },\n        { source: \"Babet\", target: \"Gavroche\", value: 1 },\n        { source: \"Babet\", target: \"Eponine\", value: 1 },\n        { source: \"Claquesous\", target: \"Thenardier\", value: 4 },\n        { source: \"Claquesous\", target: \"Babet\", value: 4 },\n        { source: \"Claquesous\", target: \"Gueulemer\", value: 4 },\n        { source: \"Claquesous\", target: \"Valjean\", value: 1 },\n        { source: \"Claquesous\", target: \"Mme.Thenardier\", value: 1 },\n        { source: \"Claquesous\", target: \"Javert\", value: 1 },\n        { source: \"Claquesous\", target: \"Eponine\", value: 1 },\n        { source: \"Claquesous\", target: \"Enjolras\", value: 1 },\n        { source: \"Montparnasse\", target: \"Javert\", value: 1 },\n        { source: \"Montparnasse\", target: \"Babet\", value: 2 },\n        { source: \"Montparnasse\", target: \"Gueulemer\", value: 2 },\n        { source: \"Montparnasse\", target: \"Claquesous\", value: 2 },\n        { source: \"Montparnasse\", target: \"Valjean\", value: 1 },\n        { source: \"Montparnasse\", target: \"Gavroche\", value: 1 },\n        { source: \"Montparnasse\", target: \"Eponine\", value: 1 },\n        { source: \"Montparnasse\", target: \"Thenardier\", value: 1 },\n        { source: \"Toussaint\", target: \"Cosette\", value: 2 },\n        { source: \"Toussaint\", target: \"Javert\", value: 1 },\n        { source: \"Toussaint\", target: \"Valjean\", value: 1 },\n        { source: \"Child1\", target: \"Gavroche\", value: 2 },\n        { source: \"Child2\", target: \"Gavroche\", value: 2 },\n        { source: \"Child2\", target: \"Child1\", value: 3 },\n        { source: \"Brujon\", target: \"Babet\", value: 3 },\n        { source: \"Brujon\", target: \"Gueulemer\", value: 3 },\n        { source: \"Brujon\", target: \"Thenardier\", value: 3 },\n        { source: \"Brujon\", target: \"Gavroche\", value: 1 },\n        { source: \"Brujon\", target: \"Eponine\", value: 1 },\n        { source: \"Brujon\", target: \"Claquesous\", value: 1 },\n        { source: \"Brujon\", target: \"Montparnasse\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Bossuet\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Joly\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Grantaire\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Bahorel\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Courfeyrac\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Gavroche\", value: 1 },\n        { source: \"Mme.Hucheloup\", target: \"Enjolras\", value: 1 }\n    ]\n};\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\n\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n// import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\n// import { ComponentWithStore } from \"../ui\";\nimport { AuthPropTypes } from \"../domain/auth\";\nimport Editor from \"../components/Editor\";\nimport Preview from \"../components/Preview\";\n\nimport { DEFAULT_MARKDOWN } from \"../constants\";\nimport { NoteProps } from \"../domain/notes\";\n\nconst NewNotePropTypes = {\n    newNote: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype NewNoteProps = InferProps<typeof NewNotePropTypes> | any;\ntype NewNoteState = NoteProps;\n\nclass NewNote extends Component<NewNoteProps, NewNoteState> {\n    constructor(props: any) {\n        super(props);\n\n        this.state = { markdown: DEFAULT_MARKDOWN };\n    }\n    static propTypes = {\n        auth: AuthPropTypes\n    };\n    static defaultProps: NewNoteProps = {};\n\n    render() {\n        const { newNote, history }: NewNoteProps = this.props;\n\n        const markdown = this.state.markdown;\n        return (\n            <Container>\n                <Row>\n                    <Col md={12}>\n                        <Button\n                            variant=\"success\"\n                            onClick={() => {\n                                newNote({\n                                    markdown: this.state.markdown\n                                });\n                                history.push(\"/\");\n                            }}\n                        >\n                            Create\n\t\t\t\t\t\t</Button>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Editor\n                        theme=\"light\"\n                        markdownContent={markdown}\n                        setMarkdownContent={markdown => {\n                            this.setState({ markdown: markdown });\n                        }}\n                    />\n\n                    <Preview\n                        theme={\"light\"}\n                        markdownContent={this.state.markdown}\n                    />\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<NewNoteProps>(\n        state => {\n            return { ...state, auth: {} };\n        },\n        {\n            newNote: function(note: any) {\n                return {\n                    type: \"NEW_NOTE\",\n                    ...note\n                };\n            }\n        }\n    )(NewNote)\n);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport Container from \"react-bootstrap/Container\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Alert from \"react-bootstrap/Alert\";\n\nconst ErrorPropTypes = {\n    message: PropTypes.string\n};\n\ntype ErrorProps = InferProps<typeof ErrorPropTypes>;\n\nclass Error extends Component<ErrorProps> {\n    render() {\n        const { message }: any = this.props;\n        return (\n            <Container fluid=\"md\">\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>Error</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                <Alert variant=\"danger\">{message}</Alert>\n                            </Modal.Body>\n\n                            <Modal.Footer>\n                                <LinkContainer to=\"/\">\n                                    <Button variant=\"secondary\">Go back</Button>\n                                </LinkContainer>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default connect(state => {\n    return { ...state };\n}, {})(Error);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { withRouter } from \"react-router\";\n\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n// import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\n// import { ComponentWithStore } from \"../ui\";\nimport { AuthPropTypes } from \"../domain/auth\";\nimport Editor from \"../components/Editor\";\nimport Preview from \"../components/Preview\";\n\nimport { NoteProps } from \"../domain/notes\";\nimport { Markdown } from \"../markdown\";\nimport { NotesReducerState } from \"../reducers/types\";\nimport Error from \"../components/Error\";\n\nconst NoteEditorPropTypes = {\n    saveNote: PropTypes.func,\n    auth: AuthPropTypes\n};\ntype MatchParams = {\n    noteID: string;\n};\n\ntype NoteEditorProps =\n    | (RouteComponentProps<MatchParams> & {\n        notes: NotesReducerState;\n    } & InferProps<typeof NoteEditorPropTypes>)\n    | any;\ntype NoteEditorState = NoteProps;\n\nclass NoteEditor extends Component<NoteEditorProps, NoteEditorState> {\n    constructor(props: NoteEditorProps) {\n        super(props);\n        const { notes, match }: NoteEditorProps = this.props;\n        const { noteID } = match.params;\n        const note: NoteProps = notes.by_id[noteID];\n\n        this.state = {\n            markdown: note.markdown\n        };\n    }\n\n    render() {\n        const { notes, match, saveNote, history }: NoteEditorProps = this.props;\n        if (!match) {\n            return <Error message=\"failed to parse note id from url\" />;\n        }\n        const { noteID } = match.params;\n        const note: NoteProps = notes.by_id[noteID];\n\n        const content = this.state.markdown;\n\n        return (\n            <Container>\n                <Row>\n                    <Col md={12}>\n                        <Button\n                            variant=\"info\"\n                            onClick={() => {\n                                const markdown = new Markdown(content);\n                                note.metadata = markdown.attributes;\n                                // console.log(\n                                //     \"state.markdown\",\n                                //     this.state.markdown\n                                // );\n                                // console.log(\"note.markdown\", note.markdown);\n                                saveNote({\n                                    ...note,\n                                    markdown: content\n                                });\n                                history.push(\"/\");\n                            }}\n                        >\n                            Save\n\t\t\t\t\t\t</Button>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Editor\n                        theme=\"light\"\n                        markdownContent={content}\n                        setMarkdownContent={md => {\n                            this.setState({ markdown: md });\n                        }}\n                    />\n\n                    <Preview theme={\"light\"} markdownContent={content} />\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<NoteEditorProps>(\n        state => {\n            return { ...state };\n        },\n        {\n            saveNote: function(note: any) {\n                return {\n                    type: \"SAVE_NOTE\",\n                    note\n                };\n            }\n        }\n    )(NoteEditor)\n);\n","import React, { Component } from \"react\";\nimport { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { withRouter } from \"react-router\";\n\nimport { RouteComponentProps } from \"react-router-dom\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n// import Form from \"react-bootstrap/Form\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Card from \"react-bootstrap/Card\";\n// import { ComponentWithStore } from \"../ui\";\nimport { AuthPropTypes } from \"../domain/auth\";\n\nimport Preview from \"../components/Preview\";\n\nimport { NoteProps } from \"../domain/notes\";\nimport { NotesReducerState } from \"../reducers/types\";\nimport Error from \"../components/Error\";\n\nconst NoteViewPropTypes = {\n    auth: AuthPropTypes\n};\ntype MatchParams = {\n    noteID: string;\n};\n\ntype NoteViewProps =\n    | (RouteComponentProps<MatchParams> & {\n        notes: NotesReducerState;\n    } & InferProps<typeof NoteViewPropTypes>)\n    | any;\ntype NoteViewState = NoteProps;\n\nclass NoteView extends Component<NoteViewProps, NoteViewState> {\n    render() {\n        const { notes, match }: NoteViewProps = this.props;\n        if (!match) {\n            return <Error message=\"failed to parse note id from url\" />;\n        }\n        const { noteID } = match.params;\n        const note: NoteProps = notes.by_id[noteID];\n        const content = note.markdown;\n\n        return (\n            <Container>\n                <Row>\n                    <Preview theme={\"light\"} markdownContent={content} />\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<NoteViewProps>(state => {\n        return { ...state };\n    }, {})(NoteView)\n);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\nimport { withRouter } from \"react-router\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n// import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Modal from \"react-bootstrap/Modal\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\n// import { ComponentWithStore } from \"../ui\";\nimport { AuthPropTypes } from \"../domain/auth\";\nimport { NoteProps } from \"../domain/notes\";\nimport { NotesReducerState } from \"../reducers/types\";\nimport Error from \"../components/Error\";\n\nconst DeleteNotePropTypes = {\n    deleteNote: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype MatchParams = {\n    noteID: string;\n};\n\ntype DeleteNoteProps =\n    | (RouteComponentProps<MatchParams> & {\n        notes: NotesReducerState;\n    } & InferProps<typeof DeleteNotePropTypes>)\n    | any;\n\nclass DeleteNote extends Component<DeleteNoteProps, any> {\n    render() {\n        const { notes, match, deleteNote }: DeleteNoteProps = this.props;\n\n        if (!match) {\n            return <Error message=\"failed to parse note id from url\" />;\n        }\n        const { noteID } = match.params;\n        const note: NoteProps = notes.by_id[noteID];\n\n        if (!note) {\n            return <Redirect to=\"/\" />;\n        }\n        return (\n            <Container fluid>\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>Confirm Note Deletion</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                Are you sure you want to delete the note \"\n\t\t\t\t\t\t\t\t{note.id}\"?\n\t\t\t\t\t\t\t</Modal.Body>\n\n                            <Modal.Footer>\n                                <Button\n                                    onClick={() => {\n                                        deleteNote(note);\n                                    }}\n                                    variant=\"danger\"\n                                >\n                                    Yes, delete it\n\t\t\t\t\t\t\t\t</Button>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<DeleteNoteProps>(\n        state => {\n            return { ...state };\n        },\n        {\n            deleteNote: function(note: any) {\n                return {\n                    type: \"DELETE_NOTE\",\n                    note\n                };\n            }\n        }\n    )(DeleteNote)\n);\n","import axios, {\n    AxiosRequestConfig,\n    AxiosResponse\n    // AxiosPromise\n} from \"axios\";\nimport { TermProps } from \"./domain/terms\";\nimport { UserProps } from \"./domain/users\";\n\nexport class APIRouter {\n    private baseURL: string;\n    constructor(baseURL: string) {\n        const match = baseURL.match(/^(https?:[/][/].*)[/]+$/);\n        if (!match) {\n            throw new Error(`Invalid url: \"${baseURL}\"`);\n        }\n        this.baseURL = baseURL;\n        console.log(`API Router base url= ${baseURL}`);\n    }\n\n    public urlFor = (path: string): string => {\n        return [\n            this.baseURL.replace(/[/]+$/, \"\"),\n            path.replace(/^[/]+/, \"\")\n        ].join(\"/\");\n    };\n}\n\nconst getAPIBaseURL = (): string => {\n    if ((window.location.href + \"\").match(/localhost/)) {\n        return \"http://localhost:5000/\";\n    }\n    return \"https://cognod.es/\";\n};\nexport type ErrorHandler = (err: Error) => void;\nexport type SuccessHandler = (data: any) => void;\n\nexport class BaseAPIClient {\n    protected api: APIRouter;\n    protected defaultOptions: AxiosRequestConfig;\n    protected handleError: ErrorHandler;\n\n    constructor(handleError: ErrorHandler) {\n        this.api = new APIRouter(getAPIBaseURL());\n        this.defaultOptions = {\n            headers: { \"Content-Type\": \"application/json\" }\n        };\n        this.handleError = handleError;\n    }\n\n    protected getOptions = (): any => {\n        return { ...this.defaultOptions };\n    };\n}\n\nexport class DictionaryAPIClient extends BaseAPIClient {\n    public listDefinitions = (handler: SuccessHandler): void => {\n        const url = this.api.urlFor(\"/api/v1/dict/definitions\");\n        axios\n            .get(url, this.getOptions())\n            .then((response: AxiosResponse<TermProps[]>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n    public searchDefinition = (term: string, handler: SuccessHandler): void => {\n        const url = this.api.urlFor(\"/api/v1/dict/definitions\");\n        axios\n            .post(url, { term: term }, this.getOptions())\n            .then((response: AxiosResponse<TermProps>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n    public deleteDefinition = (term: string, handler: SuccessHandler): void => {\n        const url = this.api.urlFor(`/api/v1/dict/term/${term}`);\n        axios\n            .delete(url, this.getOptions())\n            .then((response: AxiosResponse<TermProps>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n}\n\nexport class AdminAPIClient extends BaseAPIClient {\n    public listUsers = (handler: SuccessHandler): void => {\n        const url = this.api.urlFor(\"/api/v1/users/\");\n        axios\n            .get(url, this.getOptions())\n            .then((response: AxiosResponse<UserProps[]>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n    public searchUser = (email: string, handler: SuccessHandler): void => {\n        const url = this.api.urlFor(`/api/v1/users/by-email/?email=${email}`);\n        axios\n            .get(url, this.getOptions())\n            .then((response: AxiosResponse<UserProps>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n    public deleteUser = (id: string, handler: SuccessHandler): void => {\n        const url = this.api.urlFor(`/api/v1/users/${id}/`);\n        axios\n            .delete(url, this.getOptions())\n            .then((response: AxiosResponse<UserProps>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n    public createUser = (\n        email: string,\n        password: string,\n        handler: SuccessHandler\n    ): void => {\n        const url = this.api.urlFor(\"/api/v1/users/\");\n        axios\n            .post(url, { email, password }, this.getOptions())\n            .then((response: AxiosResponse<UserProps>) => {\n                return response.data;\n            })\n            .catch(this.handleError)\n            .then(handler);\n    };\n}\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\nimport { withRouter } from \"react-router\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n// import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Modal from \"react-bootstrap/Modal\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\n// import { ComponentWithStore } from \"../ui\";\nimport { AuthPropTypes } from \"../domain/auth\";\nimport { TermProps } from \"../domain/terms\";\nimport { TermsReducerState } from \"../reducers/types\";\n\nimport Error from \"../components/Error\";\nimport { DictionaryAPIClient } from \"../networking\";\n\nconst DeleteTermPropTypes = {\n    addError: PropTypes.func,\n    deleteTerm: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype MatchParams = {\n    termID: string;\n};\n\ntype DeleteTermProps =\n    | (RouteComponentProps<MatchParams> & {\n        terms: TermsReducerState;\n    } & InferProps<typeof DeleteTermPropTypes>)\n    | any;\n\nclass DeleteTerm extends Component<DeleteTermProps, TermsReducerState> {\n    private api: DictionaryAPIClient;\n    constructor(props: DeleteTermProps) {\n        super(props);\n        const { addError } = props;\n        this.api = new DictionaryAPIClient(addError);\n    }\n\n    deleteTerm = (term: string) => {\n        const { deleteTerm }: DeleteTermProps = this.props;\n        this.api.deleteDefinition(term, (term: TermProps) => {\n            deleteTerm(term.term);\n        });\n    };\n    render() {\n        const { terms, match }: DeleteTermProps = this.props;\n        const { deleteTerm } = this;\n\n        if (!match) {\n            return <Error message=\"failed to parse term name from url\" />;\n        }\n        const { termID } = match.params;\n        const term: TermProps = terms.by_term[termID];\n\n        if (!term) {\n            return <Redirect to=\"/\" />;\n        }\n        console.log(\"DeleteTerm\", terms.by_term);\n        if (!match) {\n            return <Error message={JSON.stringify(terms, null, 2)} />;\n        }\n\n        return (\n            <Container fluid>\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>Confirm Term Deletion</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                Are you sure you want to delete the term \"\n\t\t\t\t\t\t\t\t{term.term}\"?\n\t\t\t\t\t\t\t</Modal.Body>\n\n                            <Modal.Footer>\n                                <Button\n                                    onClick={() => {\n                                        deleteTerm(term.term);\n                                    }}\n                                    variant=\"danger\"\n                                >\n                                    Yes, delete it\n\t\t\t\t\t\t\t\t</Button>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<DeleteTermProps>(\n        state => {\n            return { ...state };\n        },\n        {\n            deleteTerm: function(term: string) {\n                return {\n                    type: \"DELETE_TERM\",\n                    term\n                };\n            },\n            addError: function(error: Error) {\n                return {\n                    type: \"ADD_ERROR\",\n                    error\n                };\n            }\n        }\n    )(DeleteTerm)\n);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\nimport { withRouter } from \"react-router\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n// import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport Modal from \"react-bootstrap/Modal\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Alert from \"react-bootstrap/Alert\";\nimport Col from \"react-bootstrap/Col\";\n// import { ComponentWithStore } from \"../ui\";\nimport { AuthPropTypes } from \"../domain/auth\";\nimport { TermProps } from \"../domain/terms\";\nimport { TermsReducerState, TermListState } from \"../reducers/types\";\nimport Error from \"../components/Error\";\nimport { DictionaryAPIClient } from \"../networking\";\n\nconst ViewTermPropTypes = {\n    addError: PropTypes.func,\n    addTerms: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype MatchParams = {\n    termID: string;\n};\n\ntype ViewTermProps =\n    | (RouteComponentProps<MatchParams> & {\n        terms: TermsReducerState;\n    } & InferProps<typeof ViewTermPropTypes>)\n    | any;\n\nclass ViewTerm extends Component<ViewTermProps, any> {\n    private api: DictionaryAPIClient;\n    constructor(props: ViewTermProps) {\n        super(props);\n        const { addError } = props;\n        this.api = new DictionaryAPIClient(addError);\n    }\n\n    render() {\n        const { terms, match }: ViewTermProps = this.props;\n\n        if (!match) {\n            return <Error message=\"failed to parse term id from url\" />;\n        }\n        const { termID } = match.params;\n        const term: TermProps = terms.by_term[termID];\n\n        if (!term) {\n            return <Redirect to=\"/\" />;\n        }\n        const meta: any = term.content;\n\n        const { collegiate, thesaurus } = meta;\n\n        if (!collegiate && !thesaurus) {\n            return null;\n        }\n\n        return (\n            <Container fluid>\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>{term.term}</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                {thesaurus ? (\n                                    <ListGroup variant=\"flush\">\n                                        {thesaurus.map(\n                                            (\n                                                definition: any,\n                                                index: number\n                                            ) => {\n                                                const short_definitions: any =\n                                                    definition.short;\n                                                return (\n                                                    <ListGroup.Item\n                                                        key={`${index}`}\n                                                    >\n                                                        <h4>\n                                                            {\n                                                                definition.functional_label\n                                                            }\n                                                        </h4>\n                                                        {short_definitions.map(\n                                                            (\n                                                                description: any,\n                                                                index: number\n                                                            ) => (\n                                                                    <ListGroup.Item\n                                                                        key={`${index}`}\n                                                                    >\n                                                                        <h5>\n                                                                            {\n                                                                                description\n                                                                            }\n                                                                        </h5>\n                                                                    </ListGroup.Item>\n                                                                )\n                                                        )}\n                                                    </ListGroup.Item>\n                                                );\n                                            }\n                                        )}\n                                    </ListGroup>\n                                ) : null}\n                                {collegiate ? (\n                                    <ListGroup variant=\"flush\">\n                                        {collegiate.map(\n                                            (\n                                                definition: any,\n                                                index: number\n                                            ) => {\n                                                const short_definitions: any =\n                                                    definition.short;\n                                                return (\n                                                    <ListGroup.Item\n                                                        key={`${index}`}\n                                                    >\n                                                        <h4>\n                                                            {\n                                                                definition.functional_label\n                                                            }\n                                                        </h4>\n                                                        {short_definitions.map(\n                                                            (\n                                                                description: any,\n                                                                index: number\n                                                            ) => (\n                                                                    <ListGroup.Item\n                                                                        key={`${index}`}\n                                                                    >\n                                                                        <h5>\n                                                                            {\n                                                                                description\n                                                                            }\n                                                                        </h5>\n                                                                    </ListGroup.Item>\n                                                                )\n                                                        )}\n                                                    </ListGroup.Item>\n                                                );\n                                            }\n                                        )}\n                                    </ListGroup>\n                                ) : null}\n                            </Modal.Body>\n\n                            <Modal.Footer>\n                                <LinkContainer to={`/`}>\n                                    <Button variant=\"warning\">Back{\"\"}</Button>\n                                </LinkContainer>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<ViewTermProps>(\n        state => {\n            return { ...state };\n        },\n        {\n            addTerms: function(terms: TermListState[]) {\n                return {\n                    type: \"ADD_TERMS\",\n                    terms\n                };\n            },\n            addError: function(error: Error) {\n                return {\n                    type: \"ADD_ERROR\",\n                    error\n                };\n            }\n        }\n    )(ViewTerm)\n);\n","import React, { Component } from \"react\";\n\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport Table from \"react-bootstrap/Table\";\n// import Alert from \"react-bootstrap/Alert\";\n\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport Button from \"react-bootstrap/Button\";\n\nimport { AuthPropTypes } from \"../../domain/auth\";\n\nimport { UserProps } from \"../../domain/users\";\nimport { UsersReducerState, UserListState } from \"../../reducers/types\";\nimport { AdminAPIClient } from \"../../networking\";\n\n// const x = { FormControl< \"input\" >}\nexport const UserListPropTypes = {\n    auth: AuthPropTypes,\n    addError: PropTypes.func,\n    addUsers: PropTypes.func\n};\n\ntype UserListProps =\n    | (InferProps<typeof UserListPropTypes> & { users: UsersReducerState })\n    | any;\n\nclass UserList extends Component<UserListProps, UserListState> {\n    private api: AdminAPIClient;\n    static propTypes = UserListPropTypes;\n    constructor(props: UserListProps) {\n        super(props);\n        const { addError } = props;\n        this.api = new AdminAPIClient(addError);\n    }\n\n    public fetchUsers = () => {\n        const { addUsers }: UserListProps = this.props;\n\n        this.api.listUsers(addUsers);\n    };\n\n    componentDidMount() { }\n    render() {\n        const { users }: UserListProps = this.props;\n        const { by_id } = users;\n        const { fetchUsers } = this;\n        const all: UserProps[] = Object.values(by_id);\n\n        return (\n            <React.Fragment>\n                <Table responsive bordered hover>\n                    <thead>\n                        <tr>\n                            <th>User</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {all.map((user: UserProps, index: number) => {\n                            return (\n                                <tr key={`${index}`}>\n                                    <td>\n                                        <h3>{user.email}</h3>\n                                    </td>\n                                    <td>\n                                        <LinkContainer\n                                            to={`/.admin/users/delete/${user.id}`}\n                                        >\n                                            <Button variant=\"danger\">\n                                                Delete{\"\"}\n                                            </Button>\n                                        </LinkContainer>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </Table>\n                <Button\n                    onClick={() => {\n                        fetchUsers();\n                    }}\n                    variant=\"success\"\n                >\n                    Fetch{\"\"}\n                </Button>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default connect<UserListProps>(\n    state => {\n        return { ...state };\n    },\n    {\n        addUsers: function(users: UserProps[]) {\n            return {\n                type: \"ADD_USERS\",\n                users\n            };\n        },\n        addError: function(error: Error) {\n            return {\n                type: \"ADD_ERROR\",\n                error\n            };\n        }\n    }\n)(UserList);\n","import React, { Component, ChangeEvent } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { withRouter, RouteComponentProps } from \"react-router\";\n\n// import { LinkContainer } from \"react-router-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { needs_login, AuthPropTypes } from \"../../domain/auth\";\n\nimport UserList from \"./UserList\";\nimport { AdminAPIClient } from \"../../networking\";\nimport { UserProps } from \"../../domain/users\";\n\nconst ManageUsersPropTypes = {\n    auth: AuthPropTypes,\n    addError: PropTypes.func,\n    addUsers: PropTypes.func\n};\n\ntype ManageUsersProps = InferProps<typeof ManageUsersPropTypes> &\n    RouteComponentProps;\ntype ManageUsersState = {\n    newUserEmail: string;\n    newUserPassword: string;\n};\nclass ManageUsers extends Component<ManageUsersProps, ManageUsersState> {\n    private api: AdminAPIClient;\n    static propTypes = ManageUsersPropTypes;\n\n    constructor(props: ManageUsersProps) {\n        super(props);\n        this.state = {\n            newUserEmail: \"\",\n            newUserPassword: \"\"\n        };\n        const { addError } = props;\n        this.api = new AdminAPIClient(addError);\n    }\n\n    public performManageUsers = () => { };\n\n    public onSetNewUserEmail = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setState({ newUserEmail: event.target.value });\n    };\n    public onSetNewUserPassword = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setState({ newUserPassword: event.target.value });\n    };\n    public submitNewUser = () => {\n        const { fetchUsers } = this;\n        const { history }: ManageUsersProps = this.props;\n\n        this.api.createUser(\n            this.state.newUserEmail,\n            this.state.newUserPassword,\n\n            (user: UserProps) => {\n                // update redux\n                fetchUsers();\n                history.push(`/.admin/users/view/${user.email}`);\n            }\n        );\n    };\n    public fetchUsers = () => {\n        const { addUsers }: ManageUsersProps = this.props;\n\n        this.api.listUsers(addUsers);\n    };\n\n    render() {\n        const { auth } = this.props;\n        if (needs_login(auth)) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <Container>\n                <Row>\n                    <Col md={6}>\n                        <Card bg=\"light\" text=\"dark\" className=\"mb-2\">\n                            <Card.Header>Create User</Card.Header>\n                            <Card.Body>\n                                <Form.Group controlId=\"formAdminCreateUser\">\n                                    <Form.Text className=\"text-muted\">\n                                        {\"Email\"}\n                                    </Form.Text>\n\n                                    <FormControl\n                                        type=\"email\"\n                                        placeholder=\"foo@bar.com\"\n                                        onChange={this.onSetNewUserEmail}\n                                        value={this.state.newUserEmail}\n                                    />\n                                    <Form.Text className=\"text-muted\">\n                                        {\"Password\"}\n                                    </Form.Text>\n\n                                    <FormControl\n                                        type=\"password\"\n                                        onChange={this.onSetNewUserPassword}\n                                        value={this.state.newUserPassword}\n                                    />\n                                </Form.Group>\n\n                                <Button\n                                    onClick={this.submitNewUser}\n                                    variant=\"primary\"\n                                // disabled={!this.isTermValidForSubmission()}\n                                >\n                                    {\"Create\"}\n                                </Button>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={12}>\n                        <Card bg=\"light\" text=\"dark\" className=\"mb-2\">\n                            <Card.Header>Users</Card.Header>\n                            <Card.Body>\n                                <UserList />\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\nexport default withRouter(\n    connect(\n        state => {\n            return { ...state };\n        },\n        {\n            addUsers: function(users: UserProps[]) {\n                return {\n                    type: \"ADD_USERS\",\n                    users\n                };\n            },\n            addError: function(error: Error) {\n                return {\n                    type: \"ADD_ERROR\",\n                    error\n                };\n            }\n        }\n    )(ManageUsers)\n);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { RouteComponentProps } from \"react-router\";\nimport { withRouter } from \"react-router\";\n// import { Redirect } from \"react-router-dom\";\n\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n// import Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\n// import ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Modal from \"react-bootstrap/Modal\";\n// import ListGroup from \"react-bootstrap/ListGroup\";\n// import ProgressBar from \"react-bootstrap/ProgressBar\";\n// import Card from \"react-bootstrap/Card\";\nimport Col from \"react-bootstrap/Col\";\n// import { ComponentWithStore } from \"../../ui\";\nimport { AuthPropTypes } from \"../../domain/auth\";\nimport { UserProps } from \"../../domain/users\";\nimport { UsersReducerState } from \"../../reducers/types\";\n\nimport Error from \"../../components/Error\";\nimport { AdminAPIClient } from \"../../networking\";\n\nconst DeleteUserPropTypes = {\n    addError: PropTypes.func,\n    addUsers: PropTypes.func,\n    deleteUser: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype MatchParams = {\n    id: string;\n};\n\ntype DeleteUserProps =\n    | (RouteComponentProps<MatchParams> & {\n        users: UsersReducerState;\n    } & InferProps<typeof DeleteUserPropTypes>)\n    | any;\n\nclass DeleteUser extends Component<DeleteUserProps, UsersReducerState> {\n    private api: AdminAPIClient;\n    constructor(props: DeleteUserProps) {\n        super(props);\n        const { addError } = props;\n        this.api = new AdminAPIClient(addError);\n    }\n\n    deleteUser = (user: UserProps) => {\n        const { fetchUsers } = this;\n        const { history } = this.props;\n        const { deleteUser }: DeleteUserProps = this.props;\n        this.api.deleteUser(user.id, (user: UserProps) => {\n            deleteUser(user);\n            fetchUsers();\n            history.goBack();\n        });\n    };\n    public fetchUsers = () => {\n        const { addUsers } = this.props;\n\n        this.api.listUsers(addUsers);\n    };\n\n    render() {\n        const { users, match }: DeleteUserProps = this.props;\n        const { deleteUser } = this;\n\n        if (!match) {\n            return <Error message=\"failed to parse user name from url\" />;\n        }\n        const { id } = match.params;\n        const user: UserProps = users.by_id[id];\n\n        if (!user) {\n            return <Error message={`no user found with id ${id}`} />;\n        }\n        console.log(\"DeleteUser\", users.by_id);\n        if (!match) {\n            return <Error message={JSON.stringify(users, null, 2)} />;\n        }\n\n        return (\n            <Container fluid>\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>Confirm User Deletion</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                {`Are you sure you want to delete the user ${user.email} ?`}\n                            </Modal.Body>\n\n                            <Modal.Footer>\n                                <Button\n                                    onClick={() => {\n                                        deleteUser(user);\n                                    }}\n                                    variant=\"danger\"\n                                >\n                                    {\"Yes, delete it\"}\n                                </Button>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<DeleteUserProps>(\n        state => {\n            return { ...state };\n        },\n        {\n            addUsers: function(users: UserProps[]) {\n                return {\n                    type: \"ADD_USERS\",\n                    users\n                };\n            },\n            deleteUser: function(user: UserProps) {\n                return {\n                    type: \"DELETE_USER\",\n                    user\n                };\n            },\n            addError: function(error: Error) {\n                return {\n                    type: \"ADD_ERROR\",\n                    error\n                };\n            }\n        }\n    )(DeleteUser)\n);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport Container from \"react-bootstrap/Container\";\nimport { Redirect } from \"react-router-dom\";\n// import { LinkContainer } from \"react-router-bootstrap\";\n\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { needs_login, AuthPropTypes } from \"../domain/auth\";\n\nconst LoginPropTypes = {\n    setUser: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype LoginProps = InferProps<typeof LoginPropTypes>;\n\nclass Login extends Component<LoginProps> {\n    public login = () => {\n        // dummy login\n        this.props.setUser({\n            scope: \"notes:write notes:read\",\n            user: { email: \"johndoe@mail.visualcu.es\" },\n            access_token: \"FAKETOKEN\",\n            profile: {\n                preferred_username: \"John Doe\"\n            }\n        });\n    };\n\n    render() {\n        const { auth }: any = this.props;\n        if (!needs_login(auth)) {\n            return <Redirect to=\"/\" />;\n        }\n        return (\n            <Container fluid=\"md\">\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>Login</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                This is a dummy login for now, just click login\n\t\t\t\t\t\t\t\t{\".\"}\n                            </Modal.Body>\n\n                            <Modal.Footer>\n                                <Button onClick={this.login} variant=\"success\">\n                                    Proceed{\"\"}\n                                </Button>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default connect(\n    state => {\n        return { ...state };\n    },\n    {\n        setUser: function(user: any) {\n            return {\n                type: \"NEW_AUTHENTICATION\",\n                user\n            };\n        }\n    }\n)(Login);\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { AuthPropTypes } from \"../domain/auth\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\ntype Graph = {\n    nodes: d3Node[];\n    links: d3Link[];\n};\n\nconst MindMapViewPropTypes = {\n    setUser: PropTypes.func,\n    auth: AuthPropTypes,\n    graph: PropTypes.any,\n    height: PropTypes.number,\n    width: PropTypes.number\n};\n\ntype MindMapViewProps = InferProps<typeof MindMapViewPropTypes>;\n\ntype d3Node =\n    | {\n        id: string;\n        group: number;\n    }\n    | any;\n\ntype d3Link = {\n    source: string;\n    target: string;\n    value: number;\n};\n\nclass MindMapView extends Component<MindMapViewProps> {\n    ref: SVGSVGElement;\n\n    static defaultProps: MindMapViewProps = {\n        graph: {\n            links: [],\n            nodes: []\n        }\n    };\n\n    static propTypes = MindMapViewPropTypes;\n\n    componentDidMount() {\n        const context: any = d3.select(this.ref);\n        const color = d3.scaleOrdinal(d3.schemeAccent);\n\n        const simulation: any = d3\n            .forceSimulation()\n            .force(\n                \"link\",\n                d3.forceLink().id(function(d: d3Node) {\n                    return d.id;\n                })\n            )\n            .force(\"charge\", d3.forceManyBody())\n            .force(\n                \"center\",\n                d3.forceCenter(this.props.width / 2, this.props.height / 2)\n            );\n\n        let link = context\n            .append(\"g\")\n            .attr(\"class\", \"links\")\n            .selectAll(\"line\")\n            .data(this.props.graph.links)\n            .enter()\n            .append(\"line\")\n            .attr(\"stroke-width\", function(d: d3Link) {\n                return Math.sqrt(d.value);\n            });\n\n        const node = context\n            .append(\"g\")\n            .attr(\"class\", \"nodes\")\n            .selectAll(\"circle\")\n            .data(this.props.graph.nodes)\n            .enter()\n            .append(\"circle\")\n            .attr(\"r\", 5)\n            .attr(\"fill\", function(d: d3Node) {\n                return color(d.group.toString());\n            })\n            .call(\n                d3\n                    .drag()\n                    .on(\"start\", dragstarted)\n                    .on(\"drag\", dragged)\n                    .on(\"end\", dragended)\n            );\n\n        node.append(\"title\").text(function(d: d3Node) {\n            return d.id;\n        });\n\n        simulation.nodes(this.props.graph.nodes).on(\"tick\", ticked);\n        simulation.force(\"link\").links(this.props.graph.links);\n\n        function dragstarted(d: any) {\n            if (!d3.event.active) {\n                simulation.alphaTarget(0.3).restart();\n            }\n            d.fx = d.x;\n            d.fy = d.y;\n        }\n\n        function dragged(d: any) {\n            d.fx = d3.event.x;\n            d.fy = d3.event.y;\n        }\n\n        function dragended(d: any) {\n            if (!d3.event.active) {\n                simulation.alphaTarget(0);\n            }\n            d.fx = null;\n            d.fy = null;\n        }\n\n        function ticked() {\n            link.attr(\"x1\", function(d: any) {\n                return d.source.x;\n            })\n                .attr(\"y1\", function(d: any) {\n                    return d.source.y;\n                })\n                .attr(\"x2\", function(d: any) {\n                    return d.target.x;\n                })\n                .attr(\"y2\", function(d: any) {\n                    return d.target.y;\n                });\n\n            node.attr(\"cx\", function(d: any) {\n                return d.x;\n            }).attr(\"cy\", function(d: any) {\n                return d.y;\n            });\n        }\n    }\n    render() {\n        return (\n            <Container>\n                <Row>\n                    <Col md={12}>\n                        <svg\n                            className=\"container\"\n                            ref={(ref: SVGSVGElement) => (this.ref = ref)}\n                            width={this.props.width}\n                            height={this.props.height}\n                        ></svg>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\nexport default connect(\n    state => {\n        return { ...state };\n    },\n    {\n        setUser: function(user: any) {\n            return {\n                type: \"NEW_AUTHENTICATION\",\n                user\n            };\n        }\n    }\n)(MindMapView);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport PropTypes, { InferProps } from \"prop-types\";\n\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { needs_login, AuthPropTypes } from \"../domain/auth\";\n\nconst LogoutPropTypes = {\n    logout: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype LogoutProps = InferProps<typeof LogoutPropTypes>;\n\nclass Logout extends Component<LogoutProps> {\n    static propTypes = LogoutPropTypes;\n\n    constructor(props: LogoutProps) {\n        super(props);\n        this.state = {};\n    }\n\n    public performLogout = () => {\n        this.props.logout();\n    };\n\n    render() {\n        const { auth } = this.props;\n        if (needs_login(auth)) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <Container fluid=\"md\">\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>\n                                    Do you really wish to logout?\n\t\t\t\t\t\t\t\t</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Footer>\n                                <Button\n                                    onClick={this.performLogout}\n                                    variant=\"danger\"\n                                >\n                                    Logout\n\t\t\t\t\t\t\t\t</Button>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\nexport default connect(\n    state => {\n        return { ...state };\n    },\n    {\n        logout: function() {\n            return {\n                type: \"LOGOUT\"\n            };\n        }\n    }\n)(Logout);\n","import React, { Component } from \"react\";\nimport { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport Table from \"react-bootstrap/Table\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\n\nimport { AuthPropTypes } from \"../domain/auth\";\n\nimport { NotePropTypes, NoteProps } from \"../domain/notes\";\nimport { NotesReducerState } from \"../reducers/types\";\n\nconst NoteListPropTypes = {\n    auth: AuthPropTypes\n};\n\ntype NoteListProps =\n    | (InferProps<typeof NoteListPropTypes> & { notes: NotesReducerState })\n    | any;\ntype NoteListState = NoteProps;\n\nclass NoteList extends Component<NoteListProps, NoteListState> {\n    static propTypes = {\n        auth: AuthPropTypes,\n        note: NotePropTypes\n    };\n\n    componentDidMount() { }\n    render() {\n        const { notes }: NoteListProps = this.props;\n        const { all } = notes;\n\n        if (!notes || !all) {\n            return (\n                <Alert variant=\"info\" className=\"text-center\">\n                    Empty\n                </Alert>\n            );\n        }\n        return (\n            <Table responsive bordered hover>\n                <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>Name</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {all.map((note: NoteProps, index: number) => (\n                        <tr key={`${index}`}>\n                            <td>{note.id}</td>\n                            <td>{note.metadata.title}</td>\n                            <td>\n                                <LinkContainer to={`/notes/edit/${note.id}`}>\n                                    <Button variant=\"info\">Edit</Button>\n                                </LinkContainer>{\" \"}\n                                <LinkContainer to={`/notes/delete/${note.id}`}>\n                                    <Button variant=\"danger\">Delete</Button>\n                                </LinkContainer>{\" \"}\n                                <LinkContainer to={`/notes/view/${note.id}`}>\n                                    <Button variant=\"primary\">View</Button>\n                                </LinkContainer>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </Table>\n        );\n    }\n}\n\nexport default connect<NoteListProps>(state => {\n    return { ...state };\n}, {})(NoteList);\n","import React, { Component } from \"react\";\n\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport Table from \"react-bootstrap/Table\";\n// import Alert from \"react-bootstrap/Alert\";\n\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nimport Button from \"react-bootstrap/Button\";\n\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { AuthPropTypes } from \"../domain/auth\";\n\nimport { TermPropTypes, TermProps } from \"../domain/terms\";\nimport { TermsReducerState, TermListState } from \"../reducers/types\";\nimport { DictionaryAPIClient } from \"../networking\";\n\n// const x = { FormControl< \"input\" >}\nexport const TermListPropTypes = {\n    auth: AuthPropTypes,\n    addError: PropTypes.func,\n    hideFunctionalLabels: PropTypes.bool,\n    addTerms: PropTypes.func,\n    terms: TermPropTypes\n};\n\ntype TermListProps =\n    | (InferProps<typeof TermListPropTypes> & { terms: TermsReducerState })\n    | any;\n\nclass TermList extends Component<TermListProps, TermListState> {\n    private api: DictionaryAPIClient;\n    static propTypes = TermListPropTypes;\n    constructor(props: TermListProps) {\n        super(props);\n        const { addError } = props;\n        this.api = new DictionaryAPIClient(addError);\n    }\n\n    public fetchDefinitions = () => {\n        const { addTerms }: TermListProps = this.props;\n\n        this.api.listDefinitions(addTerms);\n    };\n\n    componentDidMount() { }\n    render() {\n        const { terms, hideFunctionalLabels }: TermListProps = this.props;\n        const { by_term } = terms;\n        const { fetchDefinitions } = this;\n        const all: TermProps[] = Object.values(by_term);\n        const showFunctionalLabels = !hideFunctionalLabels;\n        return (\n            <React.Fragment>\n                <Table responsive bordered hover>\n                    <thead>\n                        <tr>\n                            <th>Term</th>\n                            {showFunctionalLabels ? <th>Meaning</th> : null}\n                            <th>Action</th>\n                            {\n                                //     <th>Synonyms</th>\n                                // <th>Antonyms</th>\n                            }\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {all.map((term: TermProps, index: number) => {\n                            const meta: any = term.content;\n\n                            if (typeof meta !== \"object\") {\n                                return (\n                                    <tr key={`${index}`}>\n                                        <td></td>\n                                    </tr>\n                                );\n                            }\n                            const { collegiate, thesaurus } = meta;\n\n                            if (!collegiate && !thesaurus) {\n                                return null;\n                            }\n                            return (\n                                <tr key={`${index}`}>\n                                    <td>\n                                        <LinkContainer\n                                            to={`/terms/view/${term.term}`}\n                                        >\n                                            <h3>{term.term}</h3>\n                                        </LinkContainer>\n                                    </td>\n\n                                    {thesaurus ? (\n                                        <ListGroup variant=\"flush\">\n                                            {thesaurus.map(\n                                                (\n                                                    definition: any,\n                                                    index: number\n                                                ) => {\n                                                    const short_definitions: any =\n                                                        definition.short;\n                                                    return (\n                                                        <ListGroup.Item\n                                                            key={`${index}`}\n                                                        >\n                                                            <h4>\n                                                                {\n                                                                    definition.functional_label\n                                                                }\n                                                            </h4>\n                                                            {short_definitions.map(\n                                                                (\n                                                                    description: any,\n                                                                    index: number\n                                                                ) => (\n                                                                        <ListGroup.Item\n                                                                            key={`${index}`}\n                                                                        >\n                                                                            <h5>\n                                                                                {\n                                                                                    description\n                                                                                }\n                                                                            </h5>\n                                                                        </ListGroup.Item>\n                                                                    )\n                                                            )}\n                                                        </ListGroup.Item>\n                                                    );\n                                                }\n                                            )}\n                                        </ListGroup>\n                                    ) : null}\n                                    {collegiate ? (\n                                        <ListGroup variant=\"flush\">\n                                            {collegiate.map(\n                                                (\n                                                    definition: any,\n                                                    index: number\n                                                ) => {\n                                                    const short_definitions: any =\n                                                        definition.short;\n                                                    return (\n                                                        <ListGroup.Item\n                                                            key={`${index}`}\n                                                        >\n                                                            <h4>\n                                                                {\n                                                                    definition.functional_label\n                                                                }\n                                                            </h4>\n                                                            {short_definitions.map(\n                                                                (\n                                                                    description: any,\n                                                                    index: number\n                                                                ) => (\n                                                                        <ListGroup.Item\n                                                                            key={`${index}`}\n                                                                        >\n                                                                            <h5>\n                                                                                {\n                                                                                    description\n                                                                                }\n                                                                            </h5>\n                                                                        </ListGroup.Item>\n                                                                    )\n                                                            )}\n                                                        </ListGroup.Item>\n                                                    );\n                                                }\n                                            )}\n                                        </ListGroup>\n                                    ) : null}\n                                    <td>\n                                        <LinkContainer\n                                            to={`/terms/delete/${term.term}`}\n                                        >\n                                            <Button variant=\"danger\">\n                                                Delete{\"\"}\n                                            </Button>\n                                        </LinkContainer>\n                                        <LinkContainer\n                                            to={`/terms/view/${term.term}`}\n                                        >\n                                            <Button variant=\"primary\">\n                                                View{\"\"}\n                                            </Button>\n                                        </LinkContainer>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </Table>\n                <Button\n                    onClick={() => {\n                        fetchDefinitions();\n                    }}\n                    variant=\"success\"\n                >\n                    Fetch{\"\"}\n                </Button>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default connect<TermListProps>(\n    state => {\n        return { ...state };\n    },\n    {\n        addTerms: function(terms: TermListState[]) {\n            return {\n                type: \"ADD_TERMS\",\n                terms\n            };\n        },\n        addError: function(error: Error) {\n            return {\n                type: \"ADD_ERROR\",\n                error\n            };\n        }\n    }\n)(TermList);\n","import PropTypes, { InferProps } from \"prop-types\";\n//import { AuthPropTypes } from \"./auth\";\n\nexport const TermPropTypes = PropTypes.shape({\n    id: PropTypes.string,\n    term: PropTypes.string,\n    content: PropTypes.string,\n    children: PropTypes.array\n});\nexport type TermProps = InferProps<typeof TermPropTypes> | any;\n","import React, { Component, ChangeEvent } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\n\nimport { connect } from \"react-redux\";\n\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { withRouter } from \"react-router\";\nimport Button from \"react-bootstrap/Button\";\n\nimport { AuthPropTypes } from \"../domain/auth\";\n\nimport { TermPropTypes, TermProps } from \"../domain/terms\";\nimport { DictionaryAPIClient } from \"../networking\";\nimport { TermsReducerState } from \"../reducers/types\";\n\n// const x = { FormControl< \"input\" >}\nconst TermSearchPropTypes = {\n    auth: AuthPropTypes,\n    addError: PropTypes.func,\n    addTerms: PropTypes.func\n};\n\ntype TermSearchProps =\n    | (InferProps<typeof TermSearchPropTypes> & { terms: TermsReducerState })\n    | any;\ntype TermSearchState = {\n    term: string;\n};\n\nclass TermSearch extends Component<TermSearchProps, TermSearchState> {\n    // private termInputRef = React.createRef<HTMLInputElement>();\n    private api: DictionaryAPIClient;\n    static propTypes = {\n        auth: AuthPropTypes,\n        terms: TermPropTypes\n    };\n    constructor(props: TermSearchProps) {\n        super(props);\n        const { addError } = props;\n\n        this.state = {\n            term: \"\"\n        };\n\n        this.api = new DictionaryAPIClient(addError);\n    }\n\n    public search = () => {\n        const { addTerms, history }: TermSearchProps = this.props;\n\n        this.api.searchDefinition(this.getTerm(), (term: TermProps) => {\n            addTerms([term]);\n            this.setState({ term: \"\" });\n            history.push(`/terms/view/${term.term}`);\n        });\n    };\n\n    public handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n        this.setState({ term: event.target.value });\n    };\n    public isTermValidForSubmission = () => {\n        return this.getTerm().length > 0;\n    };\n    public getTerm = () => {\n        return this.state.term || \"\";\n        // return this.termInputRef.current.value;\n    };\n    // TODO: call HTTP endpoints and then addTerms on success callback\n    // inputRef={input => (this.termInputRef = input)}\n    componentDidMount() { }\n    render() {\n        // const { terms }: TermSearchProps = this.props;\n        const { handleChange } = this;\n        return (\n            <Modal.Dialog>\n                <Modal.Header>\n                    <Modal.Title>Lexicon - Search and Save</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <Form.Group controlId=\"formBasicCriteria\">\n                        <FormControl\n                            type=\"text\"\n                            placeholder=\"e.g.: elated\"\n                            onChange={handleChange}\n                            value={this.state.term}\n                        />\n                        <Form.Text className=\"text-muted\">\n                            For now only support words, no support to phrases{\" \"}\n                            <code>{this.state.term}</code>\n                        </Form.Text>\n                    </Form.Group>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button\n                        onClick={this.search}\n                        variant=\"primary\"\n                    // disabled={!this.isTermValidForSubmission()}\n                    >\n                        Search{\"\"}\n                    </Button>\n                </Modal.Footer>\n            </Modal.Dialog>\n        );\n    }\n}\n\nexport default withRouter(\n    connect<TermSearchProps>(\n        state => {\n            return { ...state };\n        },\n        {\n            addTerms: function(terms: TermSearchState[]) {\n                return {\n                    type: \"ADD_TERMS\",\n                    terms\n                };\n            },\n            addError: function(error: Error) {\n                return {\n                    type: \"ADD_ERROR\",\n                    error\n                };\n            }\n        }\n    )(TermSearch)\n);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport PropTypes, { InferProps } from \"prop-types\";\n\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport { needs_login, AuthPropTypes } from \"../domain/auth\";\nimport NoteList from \"../components/NoteList\";\nimport TermList from \"../components/TermList\";\nimport TermSearch from \"../components/TermSearch\";\n\nconst DashboardPropTypes = {\n    logout: PropTypes.func,\n    purgeData: PropTypes.func,\n    utilities: PropTypes.bool,\n    auth: AuthPropTypes\n};\n\ntype DashboardProps = InferProps<typeof DashboardPropTypes>;\n\nclass Dashboard extends Component<DashboardProps> {\n    static propTypes = DashboardPropTypes;\n\n    constructor(props: DashboardProps) {\n        super(props);\n        this.state = {};\n    }\n\n    public performDashboard = () => {\n        this.props.logout();\n    };\n\n    render() {\n        const { auth, purgeData, utilities } = this.props;\n        if (needs_login(auth)) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <Container>\n                <Row>\n                    {utilities ? (\n                        <React.Fragment>\n                            <Col md={6}>\n                                <TermSearch />\n                            </Col>\n\n                            <Col md={6}>\n                                <Card bg=\"light\" text=\"dark\" className=\"mb-2\">\n                                    <Card.Header>Utilities</Card.Header>\n                                    <Card.Body>\n                                        <Button\n                                            variant=\"danger\"\n                                            onClick={() => {\n                                                purgeData();\n                                            }}\n                                        >\n                                            Purge all data{\" \"}\n                                        </Button>\n                                    </Card.Body>\n                                </Card>\n                            </Col>\n                        </React.Fragment>\n                    ) : null}\n\n                    <Col md={12}>\n                        <Card bg=\"light\" text=\"dark\" className=\"mb-2\">\n                            <Card.Header>Notes</Card.Header>\n                            <Card.Body>\n                                <NoteList />\n                                <LinkContainer to=\"/notes/new\">\n                                    <Button variant=\"success\">\n                                        Add new Note{\" \"}\n                                    </Button>\n                                </LinkContainer>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    {utilities ? (\n                        <Col md={12}>\n                            <Card bg=\"light\" text=\"dark\" className=\"mb-2\">\n                                <Card.Header>Lexicon</Card.Header>\n                                <Card.Body>\n                                    <TermList hideFunctionalLabels />\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                    ) : null}\n                </Row>\n            </Container>\n        );\n    }\n}\nexport default connect(\n    state => {\n        return { ...state };\n    },\n    {\n        logout: function() {\n            return {\n                type: \"LOGOUT\"\n            };\n        },\n        purgeData: function() {\n            return {\n                type: \"PURGE_DATA\"\n            };\n        }\n    }\n)(Dashboard);\n","import { connect } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\n/* import { withRouter } from \"react-router-dom\"\n * */\n\nexport const useDarkMode = () => {\n    const [theme, setTheme] = useState(\"light\");\n\n    const toggleTheme = () => {\n        if (theme === \"dark\") {\n            setTheme(\"light\");\n        } else {\n            setTheme(\"dark\");\n        }\n    };\n\n    useEffect(() => {\n        const localTheme = localStorage.getItem(\"theme\");\n        if (localTheme) {\n            setTheme(localTheme);\n        }\n    }, []);\n\n    return {\n        theme,\n        toggleTheme\n    };\n};\nexport function ComponentWithStore(Component: any) {\n    return connect(\n        state => {\n            return { ...state };\n        },\n        {\n            setUser: function(user: any) {\n                return {\n                    type: \"NEW_AUTHENTICATION\",\n                    user\n                };\n            }\n        }\n    )(Component);\n}\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\n\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport { ComponentWithStore } from \"../ui\";\n\nimport {\n    // needs_login,\n    AuthPropTypes\n} from \"../domain/auth\";\n\nconst EvergreenTopBarPropTypes = {\n    logout: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype EvergreenTopBarProps = InferProps<typeof EvergreenTopBarPropTypes> | any;\n\nclass EvergreenTopBar extends Component<EvergreenTopBarProps, any> {\n    static propTypes = EvergreenTopBarPropTypes;\n    render() {\n        // const { auth } = this.props;\n        return (\n            <Navbar bg=\"light\" expand=\"lg\" sticky=\"top\" className=\"mb-3\">\n                <LinkContainer to=\"/\">\n                    <Navbar.Brand>\n                        {false\n                            ? \"Notebook: <strong>Note-taking App</strong>\"\n                            : \"Evergreen Notes\"}\n                    </Navbar.Brand>\n                </LinkContainer>\n                <Navbar.Toggle aria-controls=\"cognodes-navbar-nav\" />\n\n                <Navbar.Collapse\n                    className=\"justify-content-end\"\n                    id=\"cognodes-navbar-nav\"\n                >\n                    <Nav>\n                        <NavDropdown title=\"Notebook\" id=\"basic-nav-dropdown\">\n                            <NavDropdown.Item href=\"#action/3.1\">\n                                {\"Add Note\"}\n                            </NavDropdown.Item>\n                            <NavDropdown.Item href=\"#action/3.2\">\n                                {\"Save/Export\"}\n                            </NavDropdown.Item>\n                            <NavDropdown.Item href=\"#action/3.2\">\n                                {\"Share\"}\n                            </NavDropdown.Item>\n                            <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"#action/3.3\">\n                                {\"Settings\"}\n                            </NavDropdown.Item>\n                            <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"#action/3.4\">\n                                {\"Publish\"}\n                            </NavDropdown.Item>\n                        </NavDropdown>\n                        <LinkContainer to=\"/dashboard\">\n                            <Nav.Link>{\"back to dashboard\"}</Nav.Link>\n                        </LinkContainer>\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        );\n    }\n}\nexport default ComponentWithStore(EvergreenTopBar);\n","import React, { Component, RefObject } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport MediumEditor from \"medium-editor\";\n\nconst DEFAULT_BUTTONS = [\n    \"bold\",\n    \"italic\",\n    \"strikethrough\",\n    \"underline\",\n    \"anchor\",\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"reference\",\n    \"removeFormat\"\n];\n\nconst ReferenceButton = MediumEditor.Extension.extend({\n    name: \"reference\",\n    tagNames: [\"a\"],\n\n    init: function() {\n        this.button = document.createElement(\"button\");\n        this.button.classList.add(\"medium-editor-action\");\n        this.button.innerHTML = `<i class=\"fa fa-sticky-note\"></i>`;\n        this.button.title = \"Link to note\";\n        this.on(this.button, \"click\", this.onClick.bind(this));\n    },\n    addReference: function(opts: any) {\n        let currentEditor = MediumEditor.selection.getSelectionElement(\n            this.window\n        ),\n            targetUrl;\n\n        // Make sure the selection is within an element this editor is tracking\n        let currentSelection = this.window.getSelection();\n        let selectedText = currentSelection.toString();\n\n        targetUrl = `#notebook/1/${selectedText}`;\n        if (currentSelection) {\n            var currRange = currentSelection.getRangeAt(0),\n                commonAncestorContainer = currRange.commonAncestorContainer,\n                exportedSelection,\n                startContainerParentElement,\n                endContainerParentElement,\n                textNodes;\n\n            // If the selection is contained within a single text node\n            // and the selection starts at the beginning of the text node,\n            // MSIE still says the startContainer is the parent of the text node.\n            // If the selection is contained within a single text node, we\n            // want to just use the default browser 'createLink', so we need\n            // to account for this case and adjust the commonAncestorContainer accordingly\n            if (\n                currRange.endContainer.nodeType === 3 &&\n                currRange.startContainer.nodeType !== 3 &&\n                currRange.startOffset === 0 &&\n                currRange.startContainer.firstChild === currRange.endContainer\n            ) {\n                commonAncestorContainer = currRange.endContainer;\n            }\n\n            startContainerParentElement = MediumEditor.util.getClosestBlockContainer(\n                currRange.startContainer\n            );\n            endContainerParentElement = MediumEditor.util.getClosestBlockContainer(\n                currRange.endContainer\n            );\n\n            // If the selection is not contained within a single text node\n            // but the selection is contained within the same block element\n            // we want to make sure we create a single link, and not multiple links\n            // which can happen with the built in browser functionality\n            if (\n                commonAncestorContainer.nodeType !== 3 &&\n                commonAncestorContainer.textContent.length !== 0 &&\n                startContainerParentElement === endContainerParentElement\n            ) {\n                var parentElement =\n                    startContainerParentElement || currentEditor,\n                    fragment = this.document.createDocumentFragment();\n\n                // since we are going to create a link from an extracted text,\n                // be sure that if we are updating a link, we won't let an empty link behind (see #754)\n                // (Workaroung for Chrome)\n                this.execAction(\"unlink\");\n\n                exportedSelection = this.exportSelection();\n                fragment.appendChild(parentElement.cloneNode(true));\n\n                if (currentEditor === parentElement) {\n                    // We have to avoid the editor itself being wiped out when it's the only block element,\n                    // as our reference inside this.elements gets detached from the page when insertHTML runs.\n                    // If we just use [parentElement, 0] and [parentElement, parentElement.childNodes.length]\n                    // as the range boundaries, this happens whenever parentElement === currentEditor.\n                    // The tradeoff to this workaround is that a orphaned tag can sometimes be left behind at\n                    // the end of the editor's content.\n                    // In Gecko:\n                    // as an empty <strong></strong> if parentElement.lastChild is a <strong> tag.\n                    // In WebKit:\n                    // an invented <br /> tag at the end in the same situation\n                    MediumEditor.selection.select(\n                        this.document,\n                        parentElement.firstChild,\n                        0,\n                        parentElement.lastChild,\n                        parentElement.lastChild.nodeType === 3\n                            ? parentElement.lastChild.nodeValue.length\n                            : parentElement.lastChild.childNodes.length\n                    );\n                } else {\n                    MediumEditor.selection.select(\n                        this.document,\n                        parentElement,\n                        0,\n                        parentElement,\n                        parentElement.childNodes.length\n                    );\n                }\n\n                var modifiedExportedSelection = this.exportSelection();\n\n                textNodes = MediumEditor.util.findOrCreateMatchingTextNodes(\n                    this.document,\n                    fragment,\n                    {\n                        start:\n                            exportedSelection.start -\n                            modifiedExportedSelection.start,\n                        end:\n                            exportedSelection.end -\n                            modifiedExportedSelection.start,\n                        editableElementIndex:\n                            exportedSelection.editableElementIndex\n                    }\n                );\n                // If textNodes are not present, when changing link on images\n                // ex: <a><img src=\"http://image.test.com\"></a>, change fragment to currRange.startContainer\n                // and set textNodes array to [imageElement, imageElement]\n                if (textNodes.length === 0) {\n                    fragment = this.document.createDocumentFragment();\n                    fragment.appendChild(\n                        commonAncestorContainer.cloneNode(true)\n                    );\n                    textNodes = [\n                        fragment.firstChild.firstChild,\n                        fragment.firstChild.lastChild\n                    ];\n                }\n\n                // Creates the link in the document fragment\n                MediumEditor.util.createLink(\n                    this.document,\n                    textNodes,\n                    targetUrl.trim()\n                );\n\n                // Chrome trims the leading whitespaces when inserting HTML, which messes up restoring the selection.\n                var leadingWhitespacesCount = (fragment.firstChild.innerHTML.match(\n                    /^\\s+/\n                ) || [\"\"])[0].length;\n\n                // Now move the created link back into the original document in a way to preserve undo/redo history\n                MediumEditor.util.insertHTMLCommand(\n                    this.document,\n                    fragment.firstChild.innerHTML.replace(/^\\s+/, \"\")\n                );\n                exportedSelection.start -= leadingWhitespacesCount;\n                exportedSelection.end -= leadingWhitespacesCount;\n\n                this.importSelection(exportedSelection);\n            } else {\n                this.document.execCommand(\"createLink\", false, targetUrl);\n            }\n\n            MediumEditor.util.removeTargetBlank(\n                MediumEditor.selection.getSelectionStart(this.document),\n                targetUrl\n            );\n\n            if (opts.buttonClass) {\n                MediumEditor.util.addClassToAnchors(\n                    MediumEditor.selection.getSelectionStart(this.document),\n                    opts.buttonClass\n                );\n            }\n        }\n    },\n    onClick: function(event: MouseEvent) {\n        // const sel = this.window.getSelection();\n        // const range = sel.getRangeAt(0);\n        // const content = this.base.getSelectedElements(this.document);\n        // const content = this.base.getSelectedParentElement(range).textContent;\n        this.addReference.bind(this)({\n            value: \"#notes/\"\n        });\n    },\n    isAlreadyApplied: function(node: Element) {\n        return node.tagName === \"a\" || node.tagName === \"code\";\n    },\n    getButton: function() {\n        return this.button;\n    }\n});\n\nconst ReactMediumEditorPropTypes = {\n    onChange: PropTypes.func,\n    options: PropTypes.any,\n    refs: PropTypes.objectOf(PropTypes.element),\n    tag: PropTypes.string,\n    text: PropTypes.string\n};\n\ntype ReactMediumEditorProps =\n    | (InferProps<typeof ReactMediumEditorPropTypes> & HTMLElement)\n    | any;\n\ntype ReactMediumEditorState = {\n    text: string;\n};\n\nexport default class ReactMediumEditor extends Component<\n    ReactMediumEditorProps,\n    ReactMediumEditorState\n    > {\n    static propTypes = ReactMediumEditorPropTypes;\n    static defaultProps = {\n        tag: \"div\"\n    };\n    private medium: MediumEditor.MediumEditor;\n    private updated: boolean;\n    private editor: RefObject<HTMLElement> = React.createRef();\n    constructor(props: ReactMediumEditorProps) {\n        super(props);\n\n        this.state = {\n            text: props.text\n        };\n    }\n\n    setUpdated = (value: boolean) => {\n        this.updated = value;\n    };\n    componentDidMount() {\n        const { setUpdated, editor } = this;\n\n        this.medium = new MediumEditor(editor.current, {\n            ...this.props.options,\n            toolbar: {\n                allowMultiParagraphSelection: false,\n                standardizeSelectionStart: true,\n                buttons: DEFAULT_BUTTONS\n            },\n            extensions: {\n                reference: new ReferenceButton(),\n                placeholder: {}\n            }\n        });\n        this.medium.subscribe(\"editableInput\", (e: Event) => {\n            setUpdated(true);\n            this.change(editor.current.innerHTML);\n        });\n    }\n\n    componentDidUpdate() {\n        this.medium.restoreSelection();\n    }\n\n    componentWillUnmount() {\n        if (this.medium) {\n            this.medium.destroy();\n        }\n    }\n\n    componentWillReceiveProps(nextProps: any) {\n        if (nextProps.text !== this.state.text && !this.updated) {\n            this.setState({ text: nextProps.text });\n        }\n\n        if (this.updated) this.setUpdated(false);\n    }\n\n    render() {\n        const { editor } = this;\n\n        if (this.medium) {\n            this.medium.saveSelection();\n        }\n\n        return (\n            <article\n                ref={editor}\n                dangerouslySetInnerHTML={{ __html: this.state.text }}\n            />\n        );\n    }\n\n    change = (text: string) => {\n        if (this.props.onChange) this.props.onChange(text, this.medium);\n    };\n}\n","import React, { Component, RefObject } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { HotKeys, configure } from \"react-hotkeys\";\n\nimport Col from \"react-bootstrap/Col\";\nimport Toast from \"react-bootstrap/Toast\";\nimport ReactMediumEditor from \"./ReactMediumEditor\";\nimport { MediumEditor } from \"medium-editor\";\nimport \"medium-editor/dist/css/medium-editor.css\";\nimport \"medium-editor/dist/css/themes/bootstrap.css\";\n\nconst EvergreenNotePropTypes = {\n    title: PropTypes.string,\n    text: PropTypes.string,\n    content: PropTypes.string,\n    children: PropTypes.arrayOf(PropTypes.element)\n};\n\ntype EvergreenNoteProps = InferProps<typeof EvergreenNotePropTypes>;\ntype EvergreenNoteState = {\n    title: string;\n    newTitle: string;\n    text: string;\n\n    showToastSaveNote: boolean;\n};\nconfigure({\n    ignoreEventsCondition: (event: KeyboardEvent) => {\n        return false;\n    }\n});\n\nclass EvergreenNote extends Component<EvergreenNoteProps, EvergreenNoteState> {\n    static propTypes = EvergreenNotePropTypes;\n    private keyMap = {\n        SAVE_NOTE: \"command+s\"\n    };\n    private keyBindings: any;\n    private titleRef: RefObject<HTMLHeadingElement> = React.createRef();\n\n    constructor(props: EvergreenNoteProps) {\n        super(props);\n        this.state = {\n            showToastSaveNote: false,\n            title: props.title,\n            newTitle: props.title,\n            text: props.text\n        };\n        this.keyBindings = {\n            SAVE_NOTE: this.saveNote\n        };\n    }\n    private saveNote = (e: KeyboardEvent): void => {\n        const { newTitle } = this.state;\n        e.preventDefault();\n\n        this.setState({ showToastSaveNote: true, title: newTitle });\n    };\n    private onEditNote = (text: string, medium: MediumEditor) => {\n        this.setState({ text: text });\n    };\n    private onEditTitle = (event: any) => {\n        this.setState({ newTitle: this.titleRef.current.innerText });\n    };\n\n    render() {\n        const { title } = this.state;\n        return (\n            <Col md={5} lg={4}>\n                <Toast\n                    style={{ position: \"absolute\", zIndex: 10000000 }}\n                    show={this.state.showToastSaveNote}\n                    delay={2000}\n                    onClose={() => {\n                        this.setState({ showToastSaveNote: false });\n                    }}\n                    autohide\n                >\n                    <Toast.Header>\n                        <strong className=\"mr-auto\">Saving {title}</strong>\n                        <small>saving note</small>\n                    </Toast.Header>\n                    <Toast.Body\n                        dangerouslySetInnerHTML={{ __html: this.state.text }}\n                    />\n                </Toast>\n                <HotKeys\n                    keyMap={this.keyMap}\n                    handlers={this.keyBindings}\n                    className=\"mt-3 border-right\"\n                    style={{ height: \"100%\", position: \"relative\" }}\n                >\n                    <h1\n                        contentEditable\n                        onKeyDown={this.onEditTitle}\n                        ref={this.titleRef}\n                        dangerouslySetInnerHTML={{ __html: title }}\n                    />\n\n                    <ReactMediumEditor\n                        tag=\"article\"\n                        text={this.state.text}\n                        onChange={this.onEditNote}\n                    />\n                </HotKeys>\n            </Col>\n        );\n    }\n}\nexport default connect(state => {\n    return { ...state };\n}, {})(EvergreenNote);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { LoremIpsum } from \"lorem-ipsum\";\n// import { LinkContainer } from \"react-router-bootstrap\";\nimport Container from \"react-bootstrap/Container\";\n\nimport Row from \"react-bootstrap/Row\";\n\nimport { needs_login, AuthPropTypes } from \"../domain/auth\";\nimport EvergreenTopBar from \"../components/EvergreenTopBar\";\nimport EvergreenNote from \"../components/EvergreenNote\";\n\nconst EvergreenPropTypes = {\n    auth: AuthPropTypes,\n    notebookId: PropTypes.string\n};\n\ntype EvergreenProps = InferProps<typeof EvergreenPropTypes>;\nconst lorem = new LoremIpsum({\n    sentencesPerParagraph: {\n        max: 8,\n        min: 4\n    },\n    wordsPerSentence: {\n        max: 16,\n        min: 4\n    }\n});\n\nclass Evergreen extends Component<EvergreenProps> {\n    static propTypes = EvergreenPropTypes;\n\n    constructor(props: EvergreenProps) {\n        super(props);\n        this.state = {};\n    }\n    render() {\n        const { auth } = this.props;\n        if (needs_login(auth)) {\n            return <Redirect to=\"/\" />;\n        }\n        return (\n            <Container fluid>\n                <EvergreenTopBar />\n                <Row className=\"mt-3\" style={{ minHeight: \"100vh\" }}>\n                    <EvergreenNote\n                        title={\"Notes should be linkable\"}\n                        text={`<p>This is links to <a href=\"#notebook/1/Second-level note\">Second-level note</a></p>`}\n                    />\n                    <EvergreenNote\n                        title={\"Second-level note\"}\n                        text={`<p>This is a secondary note.</p><p>From here you can create a <a href=\"#notebook/1/Third-level note\">Third-level note</a></p>`}\n                    />\n                    <EvergreenNote\n                        title={\"Some Lorem Ipsum\"}\n                        text={`\n<p>${lorem.generateParagraphs(1)}</p>\n<p>${lorem.generateParagraphs(2)}</p>\n<p>${lorem.generateParagraphs(3)}</p>\n`}\n                    />\n                </Row>\n            </Container>\n        );\n    }\n}\nexport default connect(state => {\n    return { ...state };\n}, {})(Evergreen);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Container from \"react-bootstrap/Container\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\nclass NotFound extends Component<RouteComponentProps> {\n    render() {\n        const { location }: RouteComponentProps = this.props;\n        return (\n            <Container fluid=\"md\">\n                <Row>\n                    <Col md={12}>\n                        <Modal.Dialog>\n                            <Modal.Header>\n                                <Modal.Title>Not Found</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body>\n                                No match for url{\" \"}\n                                <code>{location.pathname}</code>\n                            </Modal.Body>\n\n                            <Modal.Footer>\n                                <LinkContainer to=\"/\">\n                                    <Button>Back to dashboard</Button>\n                                </LinkContainer>\n                            </Modal.Footer>\n                        </Modal.Dialog>\n                    </Col>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default connect(state => {\n    return { ...state };\n}, {})(NotFound);\n","import React, { Component } from \"react\";\nimport PropTypes, { InferProps } from \"prop-types\";\n\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport { ComponentWithStore } from \"../ui\";\n\nimport { needs_login, AuthPropTypes } from \"../domain/auth\";\n\nconst TopNavPropTypes = {\n    logout: PropTypes.func,\n    auth: AuthPropTypes\n};\n\ntype TopNavProps = InferProps<typeof TopNavPropTypes> | any;\n\nclass TopNav extends Component<TopNavProps, any> {\n    static propTypes = TopNavPropTypes;\n    render() {\n        const { auth } = this.props;\n        return (\n            <Navbar bg=\"light\" expand=\"lg\" sticky=\"top\" className=\"mb-3\">\n                <LinkContainer to=\"/\">\n                    <Navbar.Brand>COGNOD.ES</Navbar.Brand>\n                </LinkContainer>\n                <Navbar.Toggle aria-controls=\"cognodes-navbar-nav\" />\n\n                <Navbar.Collapse\n                    className=\"justify-content-end\"\n                    id=\"cognodes-navbar-nav\"\n                >\n                    <Nav>\n                        {needs_login(auth) ? (\n                            <LinkContainer to=\"/login\">\n                                <Nav.Link>Login</Nav.Link>\n                            </LinkContainer>\n                        ) : (\n                                <React.Fragment>\n                                    <LinkContainer to=\"/\">\n                                        <Nav.Link>Dashboard</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/notes\">\n                                        <Nav.Link>Notes</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/mindmap\">\n                                        <Nav.Link>MindMap</Nav.Link>\n                                    </LinkContainer>\n                                    <LinkContainer to=\"/.admin\">\n                                        <Nav.Link>Admin</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/logout\">\n                                        <Nav.Link>Logout</Nav.Link>\n                                    </LinkContainer>\n                                </React.Fragment>\n                            )}\n                    </Nav>\n                </Navbar.Collapse>\n            </Navbar>\n        );\n    }\n}\nexport default ComponentWithStore(TopNav);\n","import React, { Component } from \"react\";\nimport { InferProps } from \"prop-types\";\n\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n    Redirect\n} from \"react-router-dom\";\n\nimport NewNote from \"./pages/NewNote\";\nimport NoteEditor from \"./pages/NoteEditor\";\nimport NoteView from \"./pages/NoteView\";\nimport DeleteNote from \"./pages/DeleteNote\";\nimport DeleteTerm from \"./pages/DeleteTerm\";\nimport ViewTerm from \"./pages/ViewTerm\";\nimport ManageUsers from \"./pages/admin/ManageUsers\";\nimport DeleteUser from \"./pages/admin/DeleteUser\";\n\nimport Login from \"./pages/login\";\nimport MindMapView from \"./views/MindMapView\";\nimport Logout from \"./pages/logout\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Evergreen from \"./pages/Evergreen\";\nimport NotFound from \"./pages/NotFound\";\nimport { ComponentWithStore } from \"./ui\";\nimport TopNav from \"./components/TopNav\";\nimport { needs_login, AuthPropTypes } from \"./domain/auth\";\nimport { DEFAULT_GRAPH } from \"./constants\";\n\ntype AppState = {\n    error: Error | null;\n};\nconst AppPropTypes = {\n    auth: AuthPropTypes\n};\ntype AppProps = InferProps<typeof AppPropTypes> | any;\n\nclass App extends Component<AppProps, AppState> {\n    static propTypes = AppPropTypes;\n    render() {\n        const { auth } = this.props;\n\n        function AuthenticatedRoute({\n            children,\n            ...rest\n        }: {\n            [key: string]: any;\n        }) {\n            return (\n                <Route\n                    {...rest}\n                    render={({ location }) =>\n                        !needs_login(auth) ? (\n                            children\n                        ) : (\n                                <Redirect\n                                    to={{\n                                        pathname: \"/login\",\n                                        state: { from: location }\n                                    }}\n                                />\n                            )\n                    }\n                />\n            );\n        }\n\n        return (\n            <Router>\n                <Route\n                    path={[\n                        \"/dashboard\",\n                        \"/notes/edit\",\n                        \"/notes/delete\",\n                        \"/login\",\n                        \"/mindmap\",\n                        \"/logout\"\n                    ]}\n                >\n                    <TopNav />\n                </Route>\n                <Switch>\n                    <Route path=\"/mindmap\">\n                        <MindMapView\n                            width={500}\n                            height={500}\n                            graph={DEFAULT_GRAPH}\n                        />\n                    </Route>\n                    <Route path=\"/.admin/users/delete/:id\">\n                        <DeleteUser />\n                    </Route>\n\n                    <Route path=\"/.admin\">\n                        <ManageUsers />\n                    </Route>\n\n                    <Route path=\"/login\">\n                        <Login />\n                    </Route>\n                    <Route path=\"/logout\">\n                        <Logout />\n                    </Route>\n                    <Route exact path=\"/\">\n                        <Redirect to=\"/dashboard\" />\n                    </Route>\n\n                    <AuthenticatedRoute exact path=\"/dashboard\">\n                        <Dashboard utilities />\n                    </AuthenticatedRoute>\n                    <Route exact path=\"/notes\">\n                        <Evergreen />\n                    </Route>\n                    <AuthenticatedRoute path=\"/notes/new\">\n                        <NewNote />\n                    </AuthenticatedRoute>\n                    <AuthenticatedRoute path=\"/notes/edit/:noteID\">\n                        <NoteEditor />\n                    </AuthenticatedRoute>\n                    <Route path=\"/notes/view/:noteID\">\n                        <NoteView />\n                    </Route>\n                    <Route path=\"/notes/delete/:noteID\">\n                        <DeleteNote />\n                    </Route>\n                    <AuthenticatedRoute path=\"/terms/view/:termID\">\n                        <ViewTerm />\n                    </AuthenticatedRoute>\n\n                    <AuthenticatedRoute path=\"/terms/delete/:termID\">\n                        <DeleteTerm />\n                    </AuthenticatedRoute>\n                    <Route component={NotFound} />\n                </Switch>\n            </Router>\n        );\n    }\n}\nexport default ComponentWithStore(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// import jwt_decode from \"jwt-decode\";\n\nconst DEFAULT_STATE = {};\n\nexport const auth = (state: any = DEFAULT_STATE, action: any = {}) => {\n    switch (action.type) {\n        case \"NEW_AUTHENTICATION\":\n            const { user } = action;\n            const {\n                id_token,\n                access_token,\n                refresh_token,\n                scope,\n                profile\n            } = user;\n            return {\n                ...state,\n                scope,\n                profile,\n                id_token,\n                access_token,\n                refresh_token\n            };\n\n        case \"LOGOUT\":\n            return {\n                scope: null,\n                profile: null,\n                id_token: null,\n                access_token: null,\n                refresh_token: null\n            };\n        default:\n            return { ...state };\n    }\n};\n\nexport default auth;\n","import { v5 as uuidv5 } from \"uuid\"; // For version 5\nimport { NotesReducerState, NotesAction } from \"./types\";\nimport { Markdown } from \"../markdown\";\n\nconst NewState = (): NotesReducerState => ({\n    all: [],\n    filtered: [],\n    by_id: {},\n    loaded: true,\n    current: null\n});\n\nexport const notes = (\n    state: NotesReducerState = NewState(),\n    action: NotesAction = {}\n) => {\n    switch (action.type) {\n        case \"LOGOUT\":\n        case \"PURGE_DATA\":\n            return NewState();\n\n        case \"RESET_NOTE_FILTERS\":\n            return {\n                ...state,\n                filtered: state.all\n            };\n\n        case \"SAVE_NOTE\":\n            state.by_id[action.note.id] = action.note;\n            return {\n                ...state,\n                all: Object.values(state.by_id)\n            };\n        case \"NEW_NOTE\":\n            const markdown = new Markdown(action.markdown);\n            const newNote = {\n                id: uuidv5(markdown.attributes.title, uuidv5.DNS),\n                metadata: markdown.attributes,\n                markdown: action.markdown\n            };\n            state.by_id[newNote.id] = newNote;\n            state.all.push(newNote);\n            return { ...state };\n\n        case \"DELETE_NOTE\":\n            const id_to_delete: string = action.note.id;\n            if (!action.note) {\n                return { ...state };\n            }\n            delete state.by_id[id_to_delete];\n            return {\n                ...state,\n                all: state.all.filter(item => item.id !== id_to_delete)\n            };\n\n        case \"LOADING_NOTES\":\n            return { ...state, loaded: false, current: null };\n\n        case \"CHANGE_NOTE\":\n            return {\n                ...state,\n                current: action.note,\n                loaded: true\n            };\n\n        default:\n            return { ...state };\n    }\n};\n\nexport default notes;\n","import { TermsReducerState, TermsAction, MapOfTermProps } from \"./types\";\nimport { TermProps } from \"../domain/terms\";\n\nconst NewState = (): TermsReducerState => ({\n    by_term: {},\n    loaded: true,\n    current: null\n});\n\nexport const terms = (\n    state: TermsReducerState = NewState(),\n    action: TermsAction = {}\n) => {\n    switch (action.type) {\n        case \"LOGOUT\":\n        case \"PURGE_DATA\":\n            return NewState();\n\n        // case \"SAVE_TERM\":\n        //     state.by_term[action.term.term] = action.term;\n        //     return {\n        //         ...state,\n        //         by_term: Object.values(state.by_term)\n        //     };\n\n        case \"ADD_TERMS\":\n            const new_by_term: MapOfTermProps = {};\n            if (action.terms.forEach) {\n                action.terms.forEach((term: TermProps) => {\n                    new_by_term[term.term] = term;\n                });\n            }\n            return {\n                ...state,\n                by_term: { ...state.by_term, ...new_by_term },\n                terms: terms\n            };\n\n        case \"DELETE_TERM\":\n            delete state.by_term[action.term];\n            return {\n                ...state,\n                terms: Object.values(state.by_term)\n            };\n\n        case \"LOADING_TERMS\":\n            return { ...state, loaded: false, current: null };\n\n        default:\n            return { ...state };\n    }\n};\n\nexport default terms;\n","import { UsersReducerState, UsersAction, MapOfUserProps } from \"./types\";\nimport { UserProps } from \"../domain/users\";\n\nconst NewState = (): UsersReducerState => ({\n    by_id: {},\n    loaded: true,\n    current: null\n});\n\nexport const users = (\n    state: UsersReducerState = NewState(),\n    action: UsersAction = {}\n) => {\n    switch (action.type) {\n        case \"LOGOUT\":\n        case \"PURGE_DATA\":\n            return NewState();\n\n        case \"ADD_USERS\":\n            const new_by_id: MapOfUserProps = {};\n            if (action.users.forEach) {\n                action.users.forEach((user: UserProps) => {\n                    new_by_id[user.id] = user;\n                });\n            }\n            if (action.extendOnly) {\n                return {\n                    ...state,\n                    by_id: { ...state.by_id, ...new_by_id },\n                    users: users\n                };\n            } else {\n                return {\n                    ...state,\n                    by_id: { ...new_by_id },\n                    users: action.users\n                };\n            }\n\n        case \"DELETE_USER\":\n            delete state.by_id[action.user.email];\n            return {\n                ...state,\n                users: Object.values(state.by_id)\n            };\n\n        case \"LOADING_USERS\":\n            return { ...state, loaded: false, current: null };\n\n        default:\n            return { ...state };\n    }\n};\n\nexport default users;\n","export const templates = (state: any = {}, action: any = {}) => {\n    switch (action.type) {\n        case \"LOGOUT\":\n        case \"UNLOAD_TEMPLATES\":\n            return {};\n\n        case \"SET_TEMPLATES\":\n            return { ...state };\n\n        default:\n            return { ...state };\n    }\n};\n\nexport default templates;\n","import { createBrowserHistory } from \"history\";\nexport const history = createBrowserHistory();\n","import { combineReducers } from \"redux\";\nimport { compose } from \"redux\";\nimport { auth } from \"./auth\";\nimport { notes } from \"./notes\";\nimport { terms } from \"./terms\";\nimport { users } from \"./users\";\nimport { templates } from \"./templates\";\nimport { connectRouter } from \"connected-react-router\";\nimport { history } from \"../history\";\n\nconst DEFAULT_STATE = {};\n\nexport const mainReducer = (state: any = DEFAULT_STATE, action: any = {}) => {\n    switch (action.type) {\n        default:\n            return { ...state };\n    }\n};\n\nexport default compose(\n    mainReducer,\n    combineReducers({\n        auth,\n        terms,\n        users,\n        notes,\n        templates,\n        router: connectRouter(history)\n    })\n);\n","import { createStore, applyMiddleware, compose } from \"redux\";\n\nimport rootReducer from \"./reducers\";\nimport { save, load } from \"redux-localstorage-simple\";\n\nconst composeEnhancers =\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst loaded = load({ namespace: \"fakenom.state\" });\nconsole.log(\"loaded storage\", loaded);\nexport default createStore(\n    rootReducer,\n    loaded,\n    composeEnhancers(applyMiddleware(save({ namespace: \"fakenom.state\" })))\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\n\nimport \"bootswatch/dist/litera/bootstrap.min.css\";\nimport \"font-awesome/css/font-awesome.css\";\n//import \"bootswatch/dist/minty/bootstrap.min.css\";\n//import \"bootswatch/dist/journal/bootstrap.min.css\";\n//import \"bootswatch/dist/cosmo/bootstrap.min.css\";\n//import \"bootswatch/dist/sandstone/bootstrap.min.css\";\n//import \"bootswatch/dist/lux/bootstrap.min.css\";\nimport store from \"./store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </Provider>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}